{
  "cwd": "/Applications/workspace/minicraft_demo",
  "pkg": {
    "private": true,
    "author": "yiqianyao",
    "scripts": {
      "dev": "umi dev",
      "build": "umi build",
      "postinstall": "umi setup",
      "setup": "umi setup",
      "start": "npm run dev"
    },
    "dependencies": {
      "@tweenjs/tween.js": "^21.0.0",
      "clsx": "^1.2.1",
      "comlink": "^4.4.1",
      "fs-extra": "^11.1.0",
      "howler": "^2.2.4",
      "lil-gui": "^0.19.1",
      "lodash": "^4.17.21",
      "react": "^17.0.2",
      "react-dom": "^17.0.2",
      "three": "^0.158.0",
      "umi": "^4.6.18"
    },
    "devDependencies": {
      "@types/howler": "^2.2.12",
      "@types/lodash": "^4.17.21",
      "@types/react": "^18.0.33",
      "@types/react-dom": "^18.0.11",
      "@types/three": "^0.182.0",
      "typescript": "^5.0.3"
    },
    "packageManager": "pnpm@7.33.7+sha512.7afe2410642b39c698df46da4ce5c7231a5cce360698d69f8cf8f42257d40b3e43f231053b07b8de849fd4ffbf4a71ff57b835137777a352388f3d3da747200e"
  },
  "pkgPath": "/Applications/workspace/minicraft_demo/package.json",
  "plugins": {
    "./node_modules/.pnpm/@umijs+core@4.6.18/node_modules/@umijs/core/dist/service/servicePlugin": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "preset",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+core@4.6.18/node_modules/@umijs/core/dist/service/servicePlugin.js",
      "id": "./node_modules/.pnpm/@umijs+core@4.6.18/node_modules/@umijs/core/dist/service/servicePlugin",
      "key": "servicePlugin",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "@umijs/preset-umi": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "preset",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/index.js",
      "id": "@umijs/preset-umi",
      "key": "umi",
      "config": {},
      "time": {
        "hooks": {},
        "register": 11
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/registerMethods": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/registerMethods.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/registerMethods",
      "key": "registerMethods",
      "config": {},
      "time": {
        "hooks": {
          "onStart": [
            0
          ]
        },
        "register": 3
      },
      "enableBy": "register"
    },
    "@umijs/did-you-know": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+did-you-know@1.0.4/node_modules/@umijs/did-you-know/dist/plugin.js",
      "id": "@umijs/did-you-know",
      "key": "umijsDidYouKnow",
      "config": {},
      "time": {
        "hooks": {
          "onStart": [
            3
          ]
        },
        "register": 3
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/404/404": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/404/404.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/404/404",
      "key": "404",
      "config": {},
      "time": {
        "hooks": {
          "modifyRoutes": [
            0
          ]
        },
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/aiDev/aiDev": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/aiDev/aiDev.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/aiDev/aiDev",
      "key": "aiDev",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/appData/appData": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/appData/appData.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/appData/appData",
      "key": "appData",
      "config": {},
      "time": {
        "hooks": {
          "modifyAppData": [
            142
          ]
        },
        "register": 15
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/appData/umiInfo": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/appData/umiInfo.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/appData/umiInfo",
      "key": "umiInfo",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/check/check": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/check/check.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/check/check",
      "key": "check",
      "config": {},
      "time": {
        "hooks": {
          "onCheckConfig": [
            0
          ],
          "onCheck": [
            0
          ]
        },
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/check/babel722": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/check/babel722.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/check/babel722",
      "key": "babel722",
      "config": {},
      "time": {
        "hooks": {
          "onCheck": [
            0
          ]
        },
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/codeSplitting/codeSplitting": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/codeSplitting/codeSplitting.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/codeSplitting/codeSplitting",
      "key": "codeSplitting",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/configPlugins/configPlugins": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/configPlugins/configPlugins.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/configPlugins/configPlugins",
      "key": "configPlugins",
      "config": {},
      "time": {
        "hooks": {
          "modifyConfig": [
            0
          ]
        },
        "register": 11
      },
      "enableBy": "register"
    },
    "virtual: config-title": {
      "id": "virtual: config-title",
      "key": "title",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-styles": {
      "id": "virtual: config-styles",
      "key": "styles",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-scripts": {
      "id": "virtual: config-scripts",
      "key": "scripts",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-routes": {
      "id": "virtual: config-routes",
      "key": "routes",
      "config": {
        "onChange": "regenerateTmpFiles"
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-routeLoader": {
      "id": "virtual: config-routeLoader",
      "key": "routeLoader",
      "config": {
        "default": {
          "moduleType": "esm"
        }
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-reactRouter5Compat": {
      "id": "virtual: config-reactRouter5Compat",
      "key": "reactRouter5Compat",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-presets": {
      "id": "virtual: config-presets",
      "key": "presets",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-plugins": {
      "id": "virtual: config-plugins",
      "key": "plugins",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-npmClient": {
      "id": "virtual: config-npmClient",
      "key": "npmClient",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-mountElementId": {
      "id": "virtual: config-mountElementId",
      "key": "mountElementId",
      "config": {
        "default": "root"
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-metas": {
      "id": "virtual: config-metas",
      "key": "metas",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-links": {
      "id": "virtual: config-links",
      "key": "links",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-historyWithQuery": {
      "id": "virtual: config-historyWithQuery",
      "key": "historyWithQuery",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-history": {
      "id": "virtual: config-history",
      "key": "history",
      "config": {
        "default": {
          "type": "browser"
        }
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-headScripts": {
      "id": "virtual: config-headScripts",
      "key": "headScripts",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-esbuildMinifyIIFE": {
      "id": "virtual: config-esbuildMinifyIIFE",
      "key": "esbuildMinifyIIFE",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-conventionRoutes": {
      "id": "virtual: config-conventionRoutes",
      "key": "conventionRoutes",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-conventionLayout": {
      "id": "virtual: config-conventionLayout",
      "key": "conventionLayout",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-base": {
      "id": "virtual: config-base",
      "key": "base",
      "config": {
        "default": "/"
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-analyze": {
      "id": "virtual: config-analyze",
      "key": "analyze",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-writeToDisk": {
      "id": "virtual: config-writeToDisk",
      "key": "writeToDisk",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-transformRuntime": {
      "id": "virtual: config-transformRuntime",
      "key": "transformRuntime",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-theme": {
      "id": "virtual: config-theme",
      "key": "theme",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-targets": {
      "id": "virtual: config-targets",
      "key": "targets",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-svgr": {
      "id": "virtual: config-svgr",
      "key": "svgr",
      "config": {
        "default": {}
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-svgo": {
      "id": "virtual: config-svgo",
      "key": "svgo",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-stylusLoader": {
      "id": "virtual: config-stylusLoader",
      "key": "stylusLoader",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-styleLoader": {
      "id": "virtual: config-styleLoader",
      "key": "styleLoader",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-srcTranspilerOptions": {
      "id": "virtual: config-srcTranspilerOptions",
      "key": "srcTranspilerOptions",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-srcTranspiler": {
      "id": "virtual: config-srcTranspiler",
      "key": "srcTranspiler",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-sassLoader": {
      "id": "virtual: config-sassLoader",
      "key": "sassLoader",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-runtimePublicPath": {
      "id": "virtual: config-runtimePublicPath",
      "key": "runtimePublicPath",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-purgeCSS": {
      "id": "virtual: config-purgeCSS",
      "key": "purgeCSS",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-publicPath": {
      "id": "virtual: config-publicPath",
      "key": "publicPath",
      "config": {
        "default": "/"
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-proxy": {
      "id": "virtual: config-proxy",
      "key": "proxy",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-postcssLoader": {
      "id": "virtual: config-postcssLoader",
      "key": "postcssLoader",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-outputPath": {
      "id": "virtual: config-outputPath",
      "key": "outputPath",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-normalCSSLoaderModules": {
      "id": "virtual: config-normalCSSLoaderModules",
      "key": "normalCSSLoaderModules",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-mfsu": {
      "id": "virtual: config-mfsu",
      "key": "mfsu",
      "config": {
        "default": {
          "strategy": "eager"
        }
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-mdx": {
      "id": "virtual: config-mdx",
      "key": "mdx",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-manifest": {
      "id": "virtual: config-manifest",
      "key": "manifest",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-lessLoader": {
      "id": "virtual: config-lessLoader",
      "key": "lessLoader",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-jsMinifierOptions": {
      "id": "virtual: config-jsMinifierOptions",
      "key": "jsMinifierOptions",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-jsMinifier": {
      "id": "virtual: config-jsMinifier",
      "key": "jsMinifier",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-inlineLimit": {
      "id": "virtual: config-inlineLimit",
      "key": "inlineLimit",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-ignoreMomentLocale": {
      "id": "virtual: config-ignoreMomentLocale",
      "key": "ignoreMomentLocale",
      "config": {
        "default": true
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-https": {
      "id": "virtual: config-https",
      "key": "https",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-hash": {
      "id": "virtual: config-hash",
      "key": "hash",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-forkTSChecker": {
      "id": "virtual: config-forkTSChecker",
      "key": "forkTSChecker",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-fastRefresh": {
      "id": "virtual: config-fastRefresh",
      "key": "fastRefresh",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-extraPostCSSPlugins": {
      "id": "virtual: config-extraPostCSSPlugins",
      "key": "extraPostCSSPlugins",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-extraBabelPresets": {
      "id": "virtual: config-extraBabelPresets",
      "key": "extraBabelPresets",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-extraBabelPlugins": {
      "id": "virtual: config-extraBabelPlugins",
      "key": "extraBabelPlugins",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-extraBabelIncludes": {
      "id": "virtual: config-extraBabelIncludes",
      "key": "extraBabelIncludes",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-externals": {
      "id": "virtual: config-externals",
      "key": "externals",
      "config": {
        "default": {}
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-esm": {
      "id": "virtual: config-esm",
      "key": "esm",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-devtool": {
      "id": "virtual: config-devtool",
      "key": "devtool",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-depTranspiler": {
      "id": "virtual: config-depTranspiler",
      "key": "depTranspiler",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-define": {
      "id": "virtual: config-define",
      "key": "define",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-deadCode": {
      "id": "virtual: config-deadCode",
      "key": "deadCode",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-cssPublicPath": {
      "id": "virtual: config-cssPublicPath",
      "key": "cssPublicPath",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-cssMinifierOptions": {
      "id": "virtual: config-cssMinifierOptions",
      "key": "cssMinifierOptions",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-cssMinifier": {
      "id": "virtual: config-cssMinifier",
      "key": "cssMinifier",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-cssLoaderModules": {
      "id": "virtual: config-cssLoaderModules",
      "key": "cssLoaderModules",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-cssLoader": {
      "id": "virtual: config-cssLoader",
      "key": "cssLoader",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-copy": {
      "id": "virtual: config-copy",
      "key": "copy",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-checkDepCssModules": {
      "id": "virtual: config-checkDepCssModules",
      "key": "checkDepCssModules",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-chainWebpack": {
      "id": "virtual: config-chainWebpack",
      "key": "chainWebpack",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-cacheDirectoryPath": {
      "id": "virtual: config-cacheDirectoryPath",
      "key": "cacheDirectoryPath",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-babelLoaderCustomize": {
      "id": "virtual: config-babelLoaderCustomize",
      "key": "babelLoaderCustomize",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-autoprefixer": {
      "id": "virtual: config-autoprefixer",
      "key": "autoprefixer",
      "config": {},
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-autoCSSModules": {
      "id": "virtual: config-autoCSSModules",
      "key": "autoCSSModules",
      "config": {
        "default": true
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "virtual: config-alias": {
      "id": "virtual: config-alias",
      "key": "alias",
      "config": {
        "default": {
          "umi": "@@/exports",
          "react": "/Applications/workspace/minicraft_demo/node_modules/react",
          "react-dom/client": "/Applications/workspace/minicraft_demo/node_modules/react-dom",
          "react-dom": "/Applications/workspace/minicraft_demo/node_modules/react-dom",
          "react-router": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/react-router@6.3.0_react@18.3.1/node_modules/react-router",
          "react-router-dom": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/react-router-dom@6.3.0_nnrd3gsncyragczmpvfhocinkq/node_modules/react-router-dom"
        }
      },
      "type": "plugin",
      "enableBy": "register",
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/crossorigin/crossorigin": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/crossorigin/crossorigin.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/crossorigin/crossorigin",
      "key": "crossorigin",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/depsOnDemand/depsOnDemand": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/depsOnDemand/depsOnDemand.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/depsOnDemand/depsOnDemand",
      "key": "depsOnDemand",
      "config": {},
      "time": {
        "hooks": {
          "onStart": [
            0
          ]
        },
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/devTool/devTool": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/devTool/devTool.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/devTool/devTool",
      "key": "devTool",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/esbuildHelperChecker/esbuildHelperChecker": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/esbuildHelperChecker/esbuildHelperChecker.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/esbuildHelperChecker/esbuildHelperChecker",
      "key": "esbuildHelperChecker",
      "config": {},
      "time": {
        "hooks": {},
        "register": 47
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/esmi/esmi": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/esmi/esmi.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/esmi/esmi",
      "key": "esmi",
      "config": {},
      "time": {
        "hooks": {},
        "register": 53
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/exportStatic/exportStatic": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/exportStatic/exportStatic.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/exportStatic/exportStatic",
      "key": "exportStatic",
      "config": {},
      "time": {
        "hooks": {},
        "register": 20
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/favicons/favicons": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/favicons/favicons.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/favicons/favicons",
      "key": "favicons",
      "config": {},
      "time": {
        "hooks": {
          "modifyAppData": [
            0
          ]
        },
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/helmet/helmet": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/helmet/helmet.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/helmet/helmet",
      "key": "helmet",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/icons/icons": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/icons/icons.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/icons/icons",
      "key": "icons",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mock/mock": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mock/mock.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mock/mock",
      "key": "mock",
      "config": {},
      "time": {
        "hooks": {
          "onStart": [
            1
          ]
        },
        "register": 24
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mpa/mpa": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mpa/mpa.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mpa/mpa",
      "key": "mpa",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/okam/okam": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/okam/okam.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/okam/okam",
      "key": "okam",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/overrides/overrides": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/overrides/overrides.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/overrides/overrides",
      "key": "overrides",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/phantomDependency/phantomDependency": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/phantomDependency/phantomDependency.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/phantomDependency/phantomDependency",
      "key": "phantomDependency",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/polyfill/polyfill": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/polyfill/polyfill.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/polyfill/polyfill",
      "key": "polyfill",
      "config": {},
      "time": {
        "hooks": {
          "modifyConfig": [
            2
          ]
        },
        "register": 2
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/polyfill/publicPathPolyfill": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/polyfill/publicPathPolyfill.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/polyfill/publicPathPolyfill",
      "key": "publicPathPolyfill",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/prepare/prepare": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/prepare/prepare.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/prepare/prepare",
      "key": "prepare",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routePrefetch/routePrefetch": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routePrefetch/routePrefetch.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routePrefetch/routePrefetch",
      "key": "routePrefetch",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/stagewise/stagewise": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/stagewise/stagewise.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/stagewise/stagewise",
      "key": "stagewise",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/terminal/terminal": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/terminal/terminal.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/terminal/terminal",
      "key": "terminal",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/tmpFiles/tmpFiles": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/tmpFiles/tmpFiles.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/tmpFiles/tmpFiles",
      "key": "tmpFiles",
      "config": {},
      "time": {
        "hooks": {},
        "register": 7
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/clientLoader/clientLoader": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/clientLoader/clientLoader.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/clientLoader/clientLoader",
      "key": "clientLoader",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routeProps/routeProps": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routeProps/routeProps.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routeProps/routeProps",
      "key": "routeProps",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/ssr/ssr": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/ssr/ssr.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/ssr/ssr",
      "key": "ssr",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/tmpFiles/configTypes": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/tmpFiles/configTypes.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/tmpFiles/configTypes",
      "key": "configTypes",
      "config": {},
      "time": {
        "hooks": {},
        "register": 4
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/transform/transform": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/transform/transform.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/transform/transform",
      "key": "transform",
      "config": {},
      "time": {
        "hooks": {},
        "register": 2
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/lowImport/lowImport": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/lowImport/lowImport.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/lowImport/lowImport",
      "key": "lowImport",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/vite/vite": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/vite/vite.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/vite/vite",
      "key": "vite",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/apiRoute/apiRoute": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/apiRoute/apiRoute.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/apiRoute/apiRoute",
      "key": "apiRoute",
      "config": {},
      "time": {
        "hooks": {},
        "register": 5
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/monorepo/redirect": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/monorepo/redirect.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/monorepo/redirect",
      "key": "monorepoRedirect",
      "config": {},
      "time": {
        "hooks": {},
        "register": 15
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/test/test": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/test/test.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/test/test",
      "key": "test",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/clickToComponent/clickToComponent": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/clickToComponent/clickToComponent.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/clickToComponent/clickToComponent",
      "key": "clickToComponent",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/legacy/legacy": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/legacy/legacy.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/legacy/legacy",
      "key": "legacy",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/classPropertiesLoose/classPropertiesLoose": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/classPropertiesLoose/classPropertiesLoose.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/classPropertiesLoose/classPropertiesLoose",
      "key": "classPropertiesLoose",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/webpack/webpack": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/webpack/webpack.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/webpack/webpack",
      "key": "preset-umi:webpack",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/swc/swc": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/swc/swc.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/swc/swc",
      "key": "swc",
      "config": {},
      "time": {
        "hooks": {
          "addOnDemandDeps": [
            0
          ]
        },
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/ui/ui": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/ui/ui.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/ui/ui",
      "key": "ui",
      "config": {},
      "time": {
        "hooks": {},
        "register": 2
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mako/mako": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mako/mako.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/mako/mako",
      "key": "mako",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/utoopack/utoopack": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/utoopack/utoopack.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/utoopack/utoopack",
      "key": "utoopack",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/hmrGuardian/hmrGuardian": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/hmrGuardian/hmrGuardian.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/hmrGuardian/hmrGuardian",
      "key": "hmrGuardian",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routePreloadOnLoad/routePreloadOnLoad": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routePreloadOnLoad/routePreloadOnLoad.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/routePreloadOnLoad/routePreloadOnLoad",
      "key": "routePreloadOnLoad",
      "config": {},
      "time": {
        "hooks": {},
        "register": 16
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/forget/forget": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/forget/forget.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/forget/forget",
      "key": "forget",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "config"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/bundler/bundler": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/bundler/bundler.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/features/bundler/bundler",
      "key": "preset-umi:bundler",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/build": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/build.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/build",
      "key": "build",
      "config": {},
      "time": {
        "hooks": {},
        "register": 3
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/config/config": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/config/config.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/config/config",
      "key": "config",
      "config": {},
      "time": {
        "hooks": {},
        "register": 25
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/dev/dev": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/dev/dev.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/dev/dev",
      "key": "dev",
      "config": {},
      "time": {
        "hooks": {
          "modifyAppData": [
            8
          ]
        },
        "register": 42
      }
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/help": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/help.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/help",
      "key": "help",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/lint": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/lint.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/lint",
      "key": "lint",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/setup": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/setup.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/setup",
      "key": "setup",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/deadcode": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/deadcode.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/deadcode",
      "key": "deadcode",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/version": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/version.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/version",
      "key": "version",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/page": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/page.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/page",
      "key": "generator:page",
      "config": {},
      "time": {
        "hooks": {},
        "register": 4
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/prettier": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/prettier.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/prettier",
      "key": "generator:prettier",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/tsconfig": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/tsconfig.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/tsconfig",
      "key": "generator:tsconfig",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/jest": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/jest.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/jest",
      "key": "generator:jest",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/tailwindcss": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/tailwindcss.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/tailwindcss",
      "key": "generator:tailwindcss",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/dva": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/dva.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/dva",
      "key": "generator:dva",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/component": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/component.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/component",
      "key": "generator:component",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/mock": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/mock.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/mock",
      "key": "generator:mock",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/cypress": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/cypress.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/cypress",
      "key": "generator:cypress",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/api": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/api.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/api",
      "key": "generator:api",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/precommit": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/precommit.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/generators/precommit",
      "key": "generator:precommit",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/plugin": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/plugin.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/plugin",
      "key": "command:plugin",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/verify-commit": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/verify-commit.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/verify-commit",
      "key": "verifyCommit",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/preview": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/preview.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/preview",
      "key": "preview",
      "config": {},
      "time": {
        "hooks": {},
        "register": 13
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/mfsu/mfsu": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/mfsu/mfsu.js",
      "id": "./node_modules/.pnpm/@umijs+preset-umi@4.6.18_ewpwhvmx6jhfrtpdxnr73zvpqi/node_modules/@umijs/preset-umi/dist/commands/mfsu/mfsu",
      "key": "mfsu-cli",
      "config": {},
      "time": {
        "hooks": {},
        "register": 0
      },
      "enableBy": "register"
    },
    "@umijs/plugin-run": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+plugin-run@4.6.18/node_modules/@umijs/plugin-run/dist/index.js",
      "id": "@umijs/plugin-run",
      "key": "run",
      "config": {},
      "time": {
        "hooks": {},
        "register": 3
      },
      "enableBy": "register"
    },
    "./node_modules/.pnpm/@umijs+core@4.6.18/node_modules/@umijs/core/dist/service/generatePlugin": {
      "cwd": "/Applications/workspace/minicraft_demo",
      "type": "plugin",
      "path": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/@umijs+core@4.6.18/node_modules/@umijs/core/dist/service/generatePlugin.js",
      "id": "./node_modules/.pnpm/@umijs+core@4.6.18/node_modules/@umijs/core/dist/service/generatePlugin",
      "key": "generatePlugin",
      "config": {},
      "time": {
        "hooks": {},
        "register": 1
      },
      "enableBy": "register"
    }
  },
  "presets": [],
  "name": "dev",
  "args": {
    "_": []
  },
  "userConfig": {},
  "mainConfigFile": null,
  "config": {
    "routeLoader": {
      "moduleType": "esm"
    },
    "mountElementId": "root",
    "history": {
      "type": "browser"
    },
    "base": "/",
    "svgr": {},
    "publicPath": "/",
    "mfsu": {
      "strategy": "eager"
    },
    "ignoreMomentLocale": true,
    "externals": {},
    "autoCSSModules": true,
    "alias": {
      "umi": "@@/exports",
      "react": "/Applications/workspace/minicraft_demo/node_modules/react",
      "react-dom/client": "/Applications/workspace/minicraft_demo/node_modules/react-dom",
      "react-dom": "/Applications/workspace/minicraft_demo/node_modules/react-dom",
      "react-router": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/react-router@6.3.0_react@18.3.1/node_modules/react-router",
      "react-router-dom": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/react-router-dom@6.3.0_nnrd3gsncyragczmpvfhocinkq/node_modules/react-router-dom",
      "@": "/Applications/workspace/minicraft_demo/src",
      "@@": "/Applications/workspace/minicraft_demo/src/.umi",
      "regenerator-runtime": "/Applications/workspace/minicraft_demo/node_modules/.pnpm/regenerator-runtime@0.13.11/node_modules/regenerator-runtime"
    },
    "targets": {
      "chrome": 80
    }
  },
  "routes": {
    "game/Block/blocks/FlowerDandelionBlock": {
      "path": "game/Block/blocks/FlowerDandelionBlock",
      "id": "game/Block/blocks/FlowerDandelionBlock",
      "file": "game/Block/blocks/FlowerDandelionBlock.ts",
      "absPath": "/game/Block/blocks/FlowerDandelionBlock",
      "__content": "import { Block, RenderGeometry } from \"../base/Block\";\nimport { uiTextures } from \"../textures\";\nimport { BlockID } from \"..\";\nimport { FlowerDandelionMaterial } from \"../../engine/material\";\n\n/**@desc  */\nexport class FlowerDandelionBlock extends Block {\n  id = BlockID.FlowerDandelion;\n  material = FlowerDandelionMaterial;\n  uiTexture = uiTextures.flowerDandelion;\n  geometry = RenderGeometry.Flower;\n  transparent = true;\n  canPassThrough = true;\n  canDrop = true;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/FlowerDandelionBlock.ts"
    },
    "game/Block/blocks/RedstoneLampBlock": {
      "path": "game/Block/blocks/RedstoneLampBlock",
      "id": "game/Block/blocks/RedstoneLampBlock",
      "file": "game/Block/blocks/RedstoneLampBlock.ts",
      "absPath": "/game/Block/blocks/RedstoneLampBlock",
      "__content": "import * as THREE from \"three\";\n\nimport { RenderGeometry } from \"../base/Block\";\nimport { LightSourceBlock } from \"./LightSourceBlock\";\nimport { textures, uiTextures } from \"../textures\";\n\nimport { BlockID } from \"..\";\n\nconst redstoneLampMaterial = new THREE.MeshBasicMaterial({\n  map: textures.redstoneLamp,\n});\n\n/**@desc  */\nexport class RedstoneLampBlock extends LightSourceBlock {\n  id = BlockID.RedstoneLamp;\n  material = redstoneLampMaterial;\n  uiTexture = uiTextures.redstoneLamp;\n  geometry = RenderGeometry.Cube;\n  transparent = true;\n  canPassThrough = false;\n  canDrop = true;\n\n  // Light properties\n  color = 0xdfa658;\n  intensity = 15;\n  distance = 10;\n  decay = 1;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/RedstoneLampBlock.ts"
    },
    "game/Block/blocks/LightSourceBlock": {
      "path": "game/Block/blocks/LightSourceBlock",
      "id": "game/Block/blocks/LightSourceBlock",
      "file": "game/Block/blocks/LightSourceBlock.ts",
      "absPath": "/game/Block/blocks/LightSourceBlock",
      "__content": "import { Block } from \"../base/Block\";\n\nexport abstract class LightSourceBlock extends Block {\n  abstract color: number;\n  abstract intensity: number;\n  abstract distance: number;\n  abstract decay: number;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/LightSourceBlock.ts"
    },
    "game/Block/blocks/FlowerRoseBlock": {
      "path": "game/Block/blocks/FlowerRoseBlock",
      "id": "game/Block/blocks/FlowerRoseBlock",
      "file": "game/Block/blocks/FlowerRoseBlock.ts",
      "absPath": "/game/Block/blocks/FlowerRoseBlock",
      "__content": "import { Block, RenderGeometry } from \"../base/Block\";\nimport { uiTextures } from \"../textures\";\nimport { BlockID } from \"..\";\nimport { FlowerRoseMaterial } from \"../../engine/material\";\n\n\n/**@desc  */\nexport class FlowerRoseBlock extends Block {\n  id = BlockID.FlowerRose;\n  material = FlowerRoseMaterial;\n  uiTexture = uiTextures.flowerRose;\n  geometry = RenderGeometry.Flower;\n  transparent = true;\n  canPassThrough = true;\n  canDrop = true;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/FlowerRoseBlock.ts"
    },
    "game/Block/blocks/StoneBrickBlock": {
      "path": "game/Block/blocks/StoneBrickBlock",
      "id": "game/Block/blocks/StoneBrickBlock",
      "file": "game/Block/blocks/StoneBrickBlock.ts",
      "absPath": "/game/Block/blocks/StoneBrickBlock",
      "__content": "import * as THREE from \"three\";\n\nimport { Block, RenderGeometry } from \"../base/Block\";\nimport { textures, uiTextures } from \"../textures\";\n\nimport { BlockID } from \"..\";\n\nconst stoneBrickMaterial = new THREE.MeshLambertMaterial({\n  map: textures.stoneBrick,\n});\n\n/**@desc  */\nexport class StoneBrickBlock extends Block {\n  id = BlockID.StoneBrick;\n  material = stoneBrickMaterial;\n  uiTexture = uiTextures.stoneBrick;\n  geometry = RenderGeometry.Cube;\n  transparent = false;\n  canPassThrough = false;\n  canDrop = true;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/StoneBrickBlock.ts"
    },
    "game/Block/blocks/TallGrassBlock": {
      "path": "game/Block/blocks/TallGrassBlock",
      "id": "game/Block/blocks/TallGrassBlock",
      "file": "game/Block/blocks/TallGrassBlock.ts",
      "absPath": "/game/Block/blocks/TallGrassBlock",
      "__content": "import { Block, RenderGeometry } from \"../base/Block\";\nimport { uiTextures } from \"../textures\";\nimport { BlockID } from \"..\";\nimport { TallGrassMaterial } from \"../../engine/material\";\n\n\n/**@desc  */\nexport class TallGrassBlock extends Block {\n  id = BlockID.TallGrass;\n  material = TallGrassMaterial;\n  uiTexture = uiTextures.tallGrass;\n  geometry = RenderGeometry.Cross;\n  transparent = true;\n  canPassThrough = true;\n  canDrop = false;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/TallGrassBlock.ts"
    },
    "game/Block/blocks/BedrockBlock": {
      "path": "game/Block/blocks/BedrockBlock",
      "id": "game/Block/blocks/BedrockBlock",
      "file": "game/Block/blocks/BedrockBlock.ts",
      "absPath": "/game/Block/blocks/BedrockBlock",
      "__content": "import * as THREE from \"three\";\n\nimport { Block, RenderGeometry } from \"../base/Block\";\nimport { textures, uiTextures } from \"../textures\";\n\nimport { BlockID } from \"..\";\n\nconst bedrockMaterial = new THREE.MeshLambertMaterial({\n  map: textures.bedrock,\n});\nexport class BedrockBlock extends Block {\n  id = BlockID.Bedrock;\n  material = bedrockMaterial;\n  uiTexture = uiTextures.bedrock;\n  geometry = RenderGeometry.Cube;\n  transparent = false;\n  canPassThrough = false;\n  canDrop = false;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/BedrockBlock.ts"
    },
    "game/Block/blocks/CoalOreBlock": {
      "path": "game/Block/blocks/CoalOreBlock",
      "id": "game/Block/blocks/CoalOreBlock",
      "file": "game/Block/blocks/CoalOreBlock.ts",
      "absPath": "/game/Block/blocks/CoalOreBlock",
      "__content": "import * as THREE from \"three\";\n\nimport { RenderGeometry } from \"../base/Block\";\nimport { OreBlock } from \"./OreBlock\";\nimport { textures, uiTextures } from \"../textures\";\nimport { BlockID } from \"../constant\";\nimport { oreConfig } from \"../../world/generate/resource\";\n\nconst coalOreMaterial = new THREE.MeshLambertMaterial({ map: textures.coal });\n\nexport const CoalOreBlock = class extends OreBlock {\n  id = BlockID.CoalOre;\n  scale = oreConfig[\"coal\"].scale;\n  scarcity = oreConfig[\"coal\"].scarcity;\n  material = coalOreMaterial;\n  uiTexture = uiTextures.coal;\n  geometry = RenderGeometry.Cube;\n  transparent = false;\n  canPassThrough = false;\n  canDrop = true;\n};\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/CoalOreBlock.ts"
    },
    "game/Block/blocks/IronOreBlock": {
      "path": "game/Block/blocks/IronOreBlock",
      "id": "game/Block/blocks/IronOreBlock",
      "file": "game/Block/blocks/IronOreBlock.ts",
      "absPath": "/game/Block/blocks/IronOreBlock",
      "__content": "import { RenderGeometry } from \"../base/Block\";\nimport { OreBlock } from \"./OreBlock\";\nimport { uiTextures } from \"../textures\";\nimport { BlockID } from \"..\";\nimport { oreConfig } from \"../../world/generate/resource\";\nimport { IronBlockMaterial } from \"../../engine/material\";\n\n/**@desc  */\nexport const IronOreBlock = class extends OreBlock {\n  id = BlockID.IronOre;\n  scale = oreConfig[\"iron\"].scale;\n  scarcity = oreConfig[\"iron\"].scarcity;\n  material = IronBlockMaterial;\n  uiTexture = uiTextures.iron;\n  geometry = RenderGeometry.Cube;\n  transparent = false;\n  canPassThrough = false;\n  canDrop = true;\n};\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/IronOreBlock.ts"
    },
    "game/Block/blocks/LeavesBlock": {
      "path": "game/Block/blocks/LeavesBlock",
      "id": "game/Block/blocks/LeavesBlock",
      "file": "game/Block/blocks/LeavesBlock.ts",
      "absPath": "/game/Block/blocks/LeavesBlock",
      "__content": "import { Block, RenderGeometry } from \"../base/Block\";\nimport { uiTextures } from \"../textures\";\nimport { BlockID } from \"..\";\nimport { LeavesMaterial } from \"../../engine/material\";\n\n/**@desc  */\nexport class LeavesBlock extends Block {\n  id = BlockID.Leaves;\n  material = LeavesMaterial;\n  uiTexture = uiTextures.leaves;\n  geometry = RenderGeometry.Cube;\n  transparent = true;\n  canPassThrough = false;\n  canDrop = true;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/LeavesBlock.ts"
    },
    "game/Block/blocks/OakLogBlock": {
      "path": "game/Block/blocks/OakLogBlock",
      "id": "game/Block/blocks/OakLogBlock",
      "file": "game/Block/blocks/OakLogBlock.ts",
      "absPath": "/game/Block/blocks/OakLogBlock",
      "__content": "import * as THREE from \"three\";\n\nimport { Block, RenderGeometry } from \"../base/Block\";\nimport { textures, uiTextures } from \"../textures\";\n\nimport { BlockID } from \"..\";\n\nconst oakLogSideMaterial = new THREE.MeshLambertMaterial({\n  map: textures.oakLogSide,\n});\nconst oakLogTopMaterial = new THREE.MeshLambertMaterial({\n  map: textures.oakLogTop,\n});\n\n/**@desc  */\nexport class OakLogBlock extends Block {\n  id = BlockID.OakLog;\n  material = [\n    oakLogSideMaterial, // right\n    oakLogSideMaterial, // left\n    oakLogTopMaterial, // top\n    oakLogTopMaterial, // bottom\n    oakLogSideMaterial, // front\n    oakLogSideMaterial, // back\n  ];\n  uiTexture = uiTextures.oakLog;\n  geometry = RenderGeometry.Cube;\n  transparent = false;\n  canPassThrough = false;\n  canDrop = true;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/OakLogBlock.ts"
    },
    "game/helper/playerBoundHelper": {
      "path": "game/helper/playerBoundHelper",
      "id": "game/helper/playerBoundHelper",
      "file": "game/helper/playerBoundHelper.ts",
      "absPath": "/game/helper/playerBoundHelper",
      "__content": "import * as THREE from \"three\";\nimport { PlayerParams } from \"../player/literal\";\nimport { wireframeMaterial } from \"../engine/material\";\nimport { Layers } from \"../engine\";\n\nexport function initBoundsHelper() {\n  const { radius, height } = PlayerParams;\n  const boundsHelper = new THREE.Mesh(\n  new THREE.CylinderGeometry(radius, radius, height, 16),\n  wireframeMaterial,\n  );\n  boundsHelper.layers.set(Layers.One);\n  return boundsHelper;\n}\n\n\n/**\n *@desc Update the player's bounding cylinder helper\n*/\nexport function updateBoundsHelper(position: THREE.Vector3, boundsHelper: THREE.Mesh) {\n  boundsHelper.position.copy(position);\n  boundsHelper.position.y -= PlayerParams.height / 2;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/helper/playerBoundHelper.ts"
    },
    "game/world/generate/tallGrass": {
      "path": "game/world/generate/tallGrass",
      "id": "game/world/generate/tallGrass",
      "file": "game/world/generate/tallGrass.ts",
      "absPath": "/game/world/generate/tallGrass",
      "__content": "/**\n * Generate random patches of tall grass across the top surface\n */\n\nimport { BlockID } from \"../../Block\";\nimport { ChunkParams } from \"../chunk/literal\";\nimport { IWorldParams } from \"../interface\";\nimport { World } from \"../World\";\n\nexport const generateTallGrass = (\n  input: BlockID[][][],\n  params: IWorldParams\n): BlockID[][][] => {\n  const { width, height } = ChunkParams;\n  const { tallGrass } = params;\n  if (!tallGrass) return input;\n\n  for (let x = 0; x < width; x++) {\n    for (let z = 0; z < width; z++) {\n      // starting from the top of the chunk, find the first grass block\n      // if come in contact with leaves, stop since grass doesn't grow under trees\n      for (let y = height - 1; y >= 0; y--) {\n        if (input[x][y][z] === BlockID.Leaves) {\n          break;\n        }\n\n        if (input[x][y][z] === BlockID.Grass) {\n          // found grass, move one time up\n          const baseY = y + 1;\n\n          if (input[x][baseY][z] !== BlockID.Air) {\n            continue;\n          }\n\n          if (World.rng.random() < tallGrass.frequency) {\n            input[x][baseY][z] = BlockID.TallGrass;\n\n            // Define the maximum distance from the center\n            const maxDistance = tallGrass.patchSize;\n\n            // Random walk algorithm\n            let currentX = x;\n            let currentZ = z;\n            for (let i = 0; i < maxDistance; i++) {\n              const direction = World.rng.random() * 2 * Math.PI; // Random direction\n              currentX += Math.round(Math.cos(direction));\n              currentZ += Math.round(Math.sin(direction));\n\n              // Check if the new position is within the chunk boundaries and is air\n              if (\n                currentX >= 0 &&\n                currentX < width &&\n                currentZ >= 0 &&\n                currentZ < width &&\n                input[currentX][baseY][currentZ] === BlockID.Air &&\n                input[currentX][y][currentZ] === BlockID.Grass\n              ) {\n                input[currentX][baseY][currentZ] = BlockID.TallGrass;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return input;\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/generate/tallGrass.ts"
    },
    "game/Block/base/BlockFactory": {
      "path": "game/Block/base/BlockFactory",
      "id": "game/Block/base/BlockFactory",
      "file": "game/Block/base/BlockFactory.ts",
      "absPath": "/game/Block/base/BlockFactory",
      "__content": "import { AirBlock } from \"../blocks/AirBlock\";\nimport { BedrockBlock } from \"../blocks/BedrockBlock\";\nimport { Block } from \"./Block\";\nimport { CoalOreBlock } from \"../blocks/CoalOreBlock\";\nimport { DirtBlock } from \"../blocks/DirtBlock\";\nimport { FlowerDandelionBlock } from \"../blocks/FlowerDandelionBlock\";\nimport { FlowerRoseBlock } from \"../blocks/FlowerRoseBlock\";\nimport { GrassBlock } from \"../blocks/GrassBlock\";\nimport { IronOreBlock } from \"../blocks/IronOreBlock\";\nimport { LeavesBlock } from \"../blocks/LeavesBlock\";\nimport { OakLogBlock } from \"../blocks/OakLogBlock\";\nimport { RedstoneLampBlock } from \"../blocks/RedstoneLampBlock\";\nimport { StoneBlock } from \"../blocks/StoneBlock\";\nimport { StoneBrickBlock } from \"../blocks/StoneBrickBlock\";\nimport { TallGrassBlock } from \"../blocks/TallGrassBlock\";\n\nimport { BlockID } from \"..\";\n\n// Flyweight pattern to avoid creating new block instances\nexport class BlockFactory {\n  private static blockTypes: { [id: number]: any } = {\n    [BlockID.Air]: AirBlock,\n    [BlockID.Grass]: GrassBlock,\n    [BlockID.Stone]: StoneBlock,\n    [BlockID.Dirt]: DirtBlock,\n    [BlockID.Bedrock]: BedrockBlock,\n    [BlockID.CoalOre]: CoalOreBlock,\n    [BlockID.IronOre]: IronOreBlock,\n    [BlockID.OakLog]: OakLogBlock,\n    [BlockID.Leaves]: LeavesBlock,\n    [BlockID.TallGrass]: TallGrassBlock,\n    [BlockID.FlowerRose]: FlowerRoseBlock,\n    [BlockID.FlowerDandelion]: FlowerDandelionBlock,\n    [BlockID.RedstoneLamp]: RedstoneLampBlock,\n    [BlockID.StoneBrick]: StoneBrickBlock,\n  };\n\n  private static blockInstances: { [id: number]: Block } = {};\n\n  static getBlock(id: BlockID): Block {\n    if (!this.blockInstances[id]) {\n      const BlockType = this.blockTypes[id];\n      if (BlockType) {\n        this.blockInstances[id] = new BlockType();\n      } else {\n        throw new Error(`No block type registered for ID ${id}`);\n      }\n    }\n    return this.blockInstances[id];\n  }\n\n  static getAllBlocks(): Block[] {\n    return Object.keys(this.blockTypes).map((id) => this.getBlock(+id));\n  }\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/base/BlockFactory.ts"
    },
    "game/Block/blocks/GrassBlock": {
      "path": "game/Block/blocks/GrassBlock",
      "id": "game/Block/blocks/GrassBlock",
      "file": "game/Block/blocks/GrassBlock.ts",
      "absPath": "/game/Block/blocks/GrassBlock",
      "__content": "import { Block, RenderGeometry } from \"../base/Block\";\nimport { uiTextures } from \"../textures\";\nimport { BlockID } from \"..\";\nimport { GrassBlockMaterial } from \"../../engine/material\";\n\n/**@desc  */\nexport class GrassBlock extends Block {\n  id = BlockID.Grass;\n  material = GrassBlockMaterial;\n  uiTexture = uiTextures.grass;\n  geometry = RenderGeometry.Cube;\n  transparent = false;\n  canPassThrough = false;\n  canDrop = true;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/GrassBlock.ts"
    },
    "game/Block/blocks/StoneBlock": {
      "path": "game/Block/blocks/StoneBlock",
      "id": "game/Block/blocks/StoneBlock",
      "file": "game/Block/blocks/StoneBlock.ts",
      "absPath": "/game/Block/blocks/StoneBlock",
      "__content": "import { Block, RenderGeometry } from \"../base/Block\";\nimport { uiTextures } from \"../textures\";\nimport { BlockID } from \"..\";\nimport { StoneMaterial } from \"../../engine/material\";\n\n/**@desc  */\nexport class StoneBlock extends Block {\n  id = BlockID.Stone;\n  material = StoneMaterial;\n  uiTexture = uiTextures.stone;\n  geometry = RenderGeometry.Cube;\n  transparent = false;\n  canPassThrough = false;\n  canDrop = true;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/StoneBlock.ts"
    },
    "game/world/generate/resource": {
      "path": "game/world/generate/resource",
      "id": "game/world/generate/resource",
      "file": "game/world/generate/resource.ts",
      "absPath": "/game/world/generate/resource",
      "__content": "import * as THREE from \"three\";\nimport { World } from \"../World\";\nimport { BlockID } from \"../../Block\";\nimport { ChunkParams } from \"../chunk/literal\";\n\nexport const oreConfig = {\n  coal: {\n    id: BlockID.CoalOre,\n    scale: { x: 8, y: 8, z: 8 },\n    scarcity: 0.75,\n  },\n  iron: {\n    id: BlockID.IronOre,\n    scale: { x: 5, y: 5, z: 5 },\n    scarcity: 0.8,\n  },\n};\n\n/**\n * Generates the resources (coal, stone, etc.) for the world\n */\nexport const generateResources = (\n  input: BlockID[][][],\n  chunkPos: THREE.Vector3\n): BlockID[][][] => {\n  const { width, height } = ChunkParams;\n  for (const [_, config] of Object.entries(oreConfig)) {\n    for (let x = 0; x < width; x++) {\n      for (let y = 0; y < height; y++) {\n        for (let z = 0; z < width; z++) {\n          const value = World.simplex.noise3d(\n            (chunkPos.x + x) / config.scale.x,\n            (chunkPos.y + y) / config.scale.y,\n            (chunkPos.z + z) / config.scale.z\n          );\n\n          if (value > config.scarcity) {\n            input[x][y][z] = config.id;\n          }\n        }\n      }\n    }\n  }\n\n  return input;\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/generate/resource.ts"
    },
    "game/Block/blocks/DirtBlock": {
      "path": "game/Block/blocks/DirtBlock",
      "id": "game/Block/blocks/DirtBlock",
      "file": "game/Block/blocks/DirtBlock.ts",
      "absPath": "/game/Block/blocks/DirtBlock",
      "__content": "import { Block, RenderGeometry } from \"../base/Block\";\nimport { uiTextures } from \"../textures\";\n\nimport { BlockID } from \"..\";\nimport { DirtBlockMaterial } from \"../../engine/material\";\n\n/**@desc Dirt block */\nexport class DirtBlock extends Block {\n  id = BlockID.Dirt;\n  material = DirtBlockMaterial;\n  uiTexture = uiTextures.dirt;\n  geometry = RenderGeometry.Cube;\n  transparent = false;\n  canPassThrough = false;\n  canDrop = true;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/DirtBlock.ts"
    },
    "game/engine/geometry/flower": {
      "path": "game/engine/geometry/flower",
      "id": "game/engine/geometry/flower",
      "file": "game/engine/geometry/flower.ts",
      "absPath": "/game/engine/geometry/flower",
      "__content": "",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/geometry/flower.ts"
    },
    "game/engine/material/flower": {
      "path": "game/engine/material/flower",
      "id": "game/engine/material/flower",
      "file": "game/engine/material/flower.ts",
      "absPath": "/game/engine/material/flower",
      "__content": "import * as THREE from 'three';\nimport { textures } from '../../Block/textures';\n\n// \n// TODO  MeshBasicMaterial  MeshLambertMaterial\n// \nconst FlowerDandelionMaterial = new THREE.MeshBasicMaterial({\n  map: textures.flowerDandelion,\n});\n// scaleoffset\ntextures.flowerDandelion.repeat.set(0.45, 0.6 );\ntextures.flowerDandelion.offset.set(0.275, 0);\n\nFlowerDandelionMaterial.transparent = true;\nFlowerDandelionMaterial.side = THREE.DoubleSide;\nFlowerDandelionMaterial.depthWrite = false;\n\n// \nconst FlowerRoseMaterial = new THREE.MeshBasicMaterial({\n  map: textures.flowerRose,\n});\ntextures.flowerRose.repeat.set(0.45, 0.6 );\ntextures.flowerRose.offset.set(0.275, 0);\n\nFlowerRoseMaterial.transparent = true;\nFlowerRoseMaterial.side = THREE.DoubleSide;\nFlowerRoseMaterial.depthWrite = false;\n\nexport {\n    FlowerDandelionMaterial,\n    FlowerRoseMaterial,\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/material/flower.ts"
    },
    "game/world/generate/terrain": {
      "path": "game/world/generate/terrain",
      "id": "game/world/generate/terrain",
      "file": "game/world/generate/terrain.ts",
      "absPath": "/game/world/generate/terrain",
      "__content": "import * as THREE from \"three\";\nimport { World } from \"../World\";\nimport { IWorldParams } from \"../interface\";\nimport { BlockID } from \"../../Block\";\nimport { ChunkParams } from \"../chunk/literal\";\n\n/**\n * Generates the terrain data\n */\nexport const generateTerrain = (\n  input: BlockID[][][],\n  params: IWorldParams,\n  chunkPos: THREE.Vector3): BlockID[][][] => {\n  const { width, height } = ChunkParams;\n  const { terrain, surface, bedrock } = params;\n  for (let x = 0; x < width; x++) {\n    for (let z = 0; z < width; z++) {\n      // block position of world\n      const value = World.simplex.noise(\n        (chunkPos.x + x) / terrain.scale,\n        (chunkPos.z + z) / terrain.scale\n      );\n      const scaledNoise = terrain.offset + terrain.magnitude * value;\n\n      let terrainHeight = Math.floor(height * scaledNoise);\n      terrainHeight = Math.max(0, Math.min(terrainHeight, height - 1));\n\n      // \n      const surfaceHeight = surface.offset +\n        Math.abs(World.simplex.noise(x, z) * surface.magnitude);\n\n      // \n      const bedrockHeight = bedrock.offset +\n        Math.abs(World.simplex.noise(x, z) * bedrock.magnitude);\n\n      for (let y = 0; y < height; y++) {\n        // TODO   \n        // World.simplex.noise3d(x, y, z)\n        if (y < terrainHeight) {\n          if(y >= terrainHeight - surfaceHeight) {\n            // \n            input[x][y][z] = BlockID.Dirt;\n          } else if(y >= bedrockHeight) {\n            // \n            if (input[x][y][z] === BlockID.Air) {\n              input[x][y][z] = BlockID.Stone;\n            } else {\n              //  \n            }\n          } else {\n            //  \n            input[x][y][z] = BlockID.Bedrock;\n          }\n          // if (y < bedrockHeight) {\n          //   input[x][y][z] = BlockID.Bedrock;\n          // } else if (y < terrainHeight - surfaceHeight) {\n          //   if (input[x][y][z] === BlockID.Air) {\n          //     input[x][y][z] = BlockID.Stone;\n          //   }\n          // } else {\n          //   input[x][y][z] = BlockID.Dirt;\n          // }\n        } else if (y === terrainHeight) {\n          // TODO \n          input[x][y][z] = BlockID.Grass;\n        } else if (y > terrainHeight) {\n          input[x][y][z] = BlockID.Air;\n        }\n      }\n    }\n  }\n\n  return input;\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/generate/terrain.ts"
    },
    "game/Block/blocks/AirBlock": {
      "path": "game/Block/blocks/AirBlock",
      "id": "game/Block/blocks/AirBlock",
      "file": "game/Block/blocks/AirBlock.ts",
      "absPath": "/game/Block/blocks/AirBlock",
      "__content": "import { Block, RenderGeometry } from \"../base/Block\";\n\nimport { BlockID } from \"../constant\";\n\nexport class AirBlock extends Block {\n  id = BlockID.Air;\n  material = [];\n  uiTexture = \"\";\n  geometry = RenderGeometry.Cube;\n  transparent = true;\n  canPassThrough = true;\n  canDrop = false;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/AirBlock.ts"
    },
    "game/Block/blocks/OreBlock": {
      "path": "game/Block/blocks/OreBlock",
      "id": "game/Block/blocks/OreBlock",
      "file": "game/Block/blocks/OreBlock.ts",
      "absPath": "/game/Block/blocks/OreBlock",
      "__content": "import { Block } from \"../base/Block\";\n\n/**@desc  */\nexport abstract class OreBlock extends Block {\n  abstract scale: { x: number; y: number; z: number };\n  abstract scarcity: number;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/blocks/OreBlock.ts"
    },
    "game/engine/geometry/index": {
      "path": "game/engine/geometry",
      "id": "game/engine/geometry/index",
      "file": "game/engine/geometry/index.ts",
      "absPath": "/game/engine/geometry",
      "__content": "import * as THREE from \"three\";\nimport { RenderGeometry } from \"../../Block/base/Block\";\n\n//  1x1x1\nconst CubeGeometry = new THREE.BoxGeometry()\nconst FlowerGeometry = new THREE.PlaneGeometry(0.3, 0.6);\nconst CrossGeometry = new THREE.PlaneGeometry();\nexport const getInstancedGeometry = (blockGeometry: RenderGeometry) => {\n    if (blockGeometry === RenderGeometry.Cube) {\n        return CubeGeometry;\n    } else if (blockGeometry === RenderGeometry.Cross) {\n        return CrossGeometry;\n    } else if (blockGeometry === RenderGeometry.Flower) {\n        return FlowerGeometry;\n    }\n};\n\nexport * from './drop';\n\nexport {\n    CubeGeometry,\n    FlowerGeometry,\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/geometry/index.ts"
    },
    "game/engine/material/index": {
      "path": "game/engine/material",
      "id": "game/engine/material/index",
      "file": "game/engine/material/index.ts",
      "absPath": "/game/engine/material",
      "__content": "import * as THREE from 'three';\nimport { textures } from '../../Block/textures';\n\nconst wireframeMaterial = new THREE.MeshBasicMaterial({ wireframe: true });\n\nconst collisionHelperMaterial = new THREE.MeshBasicMaterial({\n  color: 0xff0000,\n  transparent: true,\n  opacity: 0.2,\n});\n\n// textures for material\nconst GrassSideMaterial = new THREE.MeshLambertMaterial({ map: textures.grassSide });\nconst GrassTopMaterial = new THREE.MeshLambertMaterial({ map: textures.grassTop });\nconst DirtMaterial = new THREE.MeshLambertMaterial({ map: textures.dirt });\nconst IronMaterial = new THREE.MeshLambertMaterial({ map: textures.iron });\nconst StoneMaterial = new THREE.MeshLambertMaterial({ map: textures.stone });\n\n// \nconst LeavesMaterial = new THREE.MeshLambertMaterial({\n  map: textures.leaves,\n});\nLeavesMaterial.transparent = true;\nLeavesMaterial.side = THREE.DoubleSide;\n\n// \nconst TallGrassMaterial = new THREE.MeshBasicMaterial({\n  map: textures.tallGrass,\n});\n// TODO: \n\nTallGrassMaterial.transparent = true;\nTallGrassMaterial.side = THREE.DoubleSide;\nTallGrassMaterial.depthWrite = false;\n\n// block material\nconst GrassBlockMaterial = [\n  GrassSideMaterial, // right\n  GrassSideMaterial, // left\n  GrassTopMaterial, // top\n  DirtMaterial, // bottom\n  GrassSideMaterial, // front\n  GrassSideMaterial, // back\n];\nconst DirtBlockMaterial = DirtMaterial;\nconst IronBlockMaterial = IronMaterial;\n\nexport {\n  wireframeMaterial,\n  collisionHelperMaterial,\n  // block material\n  IronBlockMaterial,\n  DirtBlockMaterial,\n  StoneMaterial,\n  GrassBlockMaterial,\n  // \n  LeavesMaterial,\n  TallGrassMaterial,\n}\n\nexport * from './flower';",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/material/index.ts"
    },
    "game/gui/toolbar/interface": {
      "path": "game/gui/toolbar/interface",
      "id": "game/gui/toolbar/interface",
      "file": "game/gui/toolbar/interface.ts",
      "absPath": "/game/gui/toolbar/interface",
      "__content": "import { BlockID } from \"../../Block\";\n\nexport interface IToolBarItem {\n    blockId: BlockID;\n    count: number;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/gui/toolbar/interface.ts"
    },
    "game/helper/selectorHelper": {
      "path": "game/helper/selectorHelper",
      "id": "game/helper/selectorHelper",
      "file": "game/helper/selectorHelper.ts",
      "absPath": "/game/helper/selectorHelper",
      "__content": "\nimport * as THREE from \"three\";\nimport { LineGeometry } from \"three/examples/jsm/lines/LineGeometry.js\";\nimport { LineMaterial } from \"three/examples/jsm/lines/LineMaterial.js\";\nimport { Line2 } from \"three/examples/jsm/lines/Line2.js\";\nimport { ScreenViewer } from \"../gui/viewer\";\n\nfunction cuboid(width: number, height: number, depth: number) {\n  const hw = width * 0.5;\n  const hh = height * 0.5;\n  const hd = depth * 0.5;\n\n  const position = [\n    [-hw, -hh, -hd],\n    [-hw, hh, -hd],\n    [hw, hh, -hd],\n    [hw, -hh, -hd],\n    [-hw, -hh, -hd],\n\n    [-hw, -hh, hd],\n    [-hw, hh, hd],\n    [-hw, hh, -hd],\n    [-hw, hh, hd],\n\n    [hw, hh, hd],\n    [hw, hh, -hd],\n    [hw, hh, hd],\n\n    [hw, -hh, hd],\n    [hw, -hh, -hd],\n    [hw, -hh, hd],\n    [-hw, -hh, hd],\n  ].flat();\n\n  return position;\n}\n\nconst selectionMaterial = new LineMaterial({\n  color: 0x000000,\n  opacity: 0.9,\n  linewidth: 1,\n  resolution: new THREE.Vector2(ScreenViewer.width, ScreenViewer.height),\n});\nconst selectionLineGeometry = new LineGeometry();\nselectionLineGeometry.setPositions(cuboid(1.001, 1.001, 1.001));\n\nexport const selectionHelper = new Line2(selectionLineGeometry, selectionMaterial);",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/helper/selectorHelper.ts"
    },
    "game/world/generate/flower": {
      "path": "game/world/generate/flower",
      "id": "game/world/generate/flower",
      "file": "game/world/generate/flower.ts",
      "absPath": "/game/world/generate/flower",
      "__content": "import { BlockID } from \"../../Block\";\nimport { ChunkParams } from \"../chunk/literal\";\nimport { IWorldParams } from \"../interface\";\nimport { World } from \"../World\";\n\n/**\n * Generate random patches of flowers across the top surface\n */\nexport const generateFlowers = (\n  input: BlockID[][][], params: IWorldParams): BlockID[][][] => {\n  const { width, height } = ChunkParams;\n  for (let x = 0; x < width; x++) {\n    for (let z = 0; z < width; z++) {\n      // starting from the top of the chunk, find the first grass block\n      // if come in contact with leaves, stop since flowers doesn't grow under trees\n      for (let y = height - 1; y >= 0; y--) {\n        if (input[x][y][z] === BlockID.Leaves) {\n          break;\n        }\n\n        if (input[x][y][z] === BlockID.Grass) {\n          // found grass, move one time up\n          const baseY = y + 1;\n\n          if (input[x][baseY][z] !== BlockID.Air) {\n            continue;\n          }\n\n          // Check if there's a tallgrass block within 3 blocks\n          let isTallGrassNearby = false;\n          for (let dx = -3; dx <= 3; dx++) {\n            for (let dz = -3; dz <= 3; dz++) {\n              const nx = x + dx;\n              const nz = z + dz;\n              if (\n                nx >= 0 &&\n                nx < width &&\n                nz >= 0 &&\n                nz < width &&\n                input[nx][baseY][nz] === BlockID.TallGrass\n              ) {\n                isTallGrassNearby = true;\n                break;\n              }\n            }\n            if (isTallGrassNearby) {\n              break;\n            }\n          }\n\n          if (isTallGrassNearby) {\n            continue;\n          }\n\n          const flowerId =\n            World.rng.random() < 0.5 ? BlockID.FlowerDandelion : BlockID.FlowerRose;\n\n          if (World.rng.random() < params.flowers.frequency) {\n            input[x][baseY][z] = flowerId;\n          }\n        }\n      }\n    }\n  }\n\n  return input;\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/generate/flower.ts"
    },
    "game/engine/geometry/drop": {
      "path": "game/engine/geometry/drop",
      "id": "game/engine/geometry/drop",
      "file": "game/engine/geometry/drop.ts",
      "absPath": "/game/engine/geometry/drop",
      "__content": "import * as THREE from \"three\";\nimport { RenderGeometry } from \"../../Block/base/Block\";\n\nconst dropBoxSize = 0.25;\nconst geometry_drop = new THREE.BoxGeometry(dropBoxSize, dropBoxSize, dropBoxSize);\n// TODO \n\nconst crossGeometry_drop = new THREE.PlaneGeometry(0.5, 0.5);\nconst flowerGeometry_drop = new THREE.PlaneGeometry(0.15, 0.5);\nexport const getDropInstancedGeometry = (blockGeometry: RenderGeometry) => {\n    if (blockGeometry === RenderGeometry.Cube) {\n        return geometry_drop;\n    } else if (blockGeometry === RenderGeometry.Cross) {\n        return crossGeometry_drop;\n    } else if (blockGeometry === RenderGeometry.Flower) {\n        return flowerGeometry_drop;\n    }\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/geometry/drop.ts"
    },
    "game/engine/mesh/constant": {
      "path": "game/engine/mesh/constant",
      "id": "game/engine/mesh/constant",
      "file": "game/engine/mesh/constant.ts",
      "absPath": "/game/engine/mesh/constant",
      "__content": "export enum MeshType {\n    /**@desc   */\n    Hand = 'Hand',\n    /**@desc  */\n    FlowerRose = \"FlowerRose\",\n    /**@desc  */\n    FlowerDandelion = \"FlowerDandelion\",\n    /**@desc  */\n    GrassBlock = 'GrassBlock',\n    /**@desc  */\n    DirtBlock = 'DirtBlock',\n    /**@desc  */\n    StoneBlock = 'StoneBlock',\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/mesh/constant.ts"
    },
    "game/world/chunk/instance": {
      "path": "game/world/chunk/instance",
      "id": "game/world/chunk/instance",
      "file": "game/world/chunk/instance.ts",
      "absPath": "/game/world/chunk/instance",
      "__content": "import * as THREE from \"three\";\nimport { Block, RenderGeometry } from \"../../Block/base/Block\";\nimport { jitterNumber } from \"../../utils\";\n\nexport function InstanceMeshAdd(mesh: THREE.InstancedMesh, blockClass: Block, x: number, y: number, z: number) {\n    switch (blockClass.geometry) {\n        case RenderGeometry.Cube:\n            return InstanceMeshAddCube(mesh, x, y, z);\n        case RenderGeometry.Cross:\n            return InstanceMeshAddCross(mesh, x, y, z);\n        case RenderGeometry.Flower:\n            return InstanceMeshAddFlower(mesh, x, y, z);\n        default:\n            console.warn(`Unknown geometry ${blockClass.geometry}`);\n            return null;\n    }\n}\n\nfunction InstanceMeshAddCube(mesh: THREE.InstancedMesh, x: number, y: number, z: number) {\n    const instanceId = mesh.count++;\n    const matrix = new THREE.Matrix4();\n    matrix.setPosition(x + 0.5, y + 0.5, z + 0.5);\n    mesh.setMatrixAt(instanceId, matrix);\n\n    return [instanceId];\n}\n\nfunction InstanceMeshAddCross(mesh: THREE.InstancedMesh, x: number, y: number, z: number) {\n    const instanceId1 = mesh.count++;\n    const instanceId2 = mesh.count++;\n\n    const matrix1 = new THREE.Matrix4();\n    matrix1.makeRotationY(Math.PI / 4);\n    matrix1.setPosition(x + 0.5, y + 0.5, z + 0.5);\n    mesh.setMatrixAt(instanceId1, matrix1);\n\n    const matrix2 = new THREE.Matrix4();\n    matrix2.makeRotationY(-Math.PI / 4);\n    matrix2.setPosition(x + 0.5, y + 0.5, z + 0.5);\n    mesh.setMatrixAt(instanceId2, matrix2);\n\n    return [instanceId1, instanceId2];\n}\n\nfunction InstanceMeshAddFlower(mesh: THREE.InstancedMesh, x: number, y: number, z: number) {\n    const instanceId1 = mesh.count++;\n    const instanceId2 = mesh.count++;\n\n    // \n    const xOffset = jitterNumber(0.5, 0.15);\n    const zOffset = jitterNumber(0.5, 0.15);\n    // 0.20.6\n    const matrix1 = new THREE.Matrix4();\n    matrix1.makeRotationY(Math.PI / 4);\n    matrix1.setPosition(x + xOffset, y + 0.5 - 0.2, z + zOffset);\n    mesh.setMatrixAt(instanceId1, matrix1);\n\n    const matrix2 = new THREE.Matrix4();\n    matrix2.makeRotationY(-Math.PI / 4);\n    matrix2.setPosition(x + xOffset, y + 0.5 - 0.2, z + zOffset);\n    mesh.setMatrixAt(instanceId2, matrix2);\n\n    mesh.userData.renderGeometry = RenderGeometry.Flower;\n    return [instanceId1, instanceId2];\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/chunk/instance.ts"
    },
    "game/world/drop/interface": {
      "path": "game/world/drop/interface",
      "id": "game/world/drop/interface",
      "file": "game/world/drop/interface.ts",
      "absPath": "/game/world/drop/interface",
      "__content": "import * as THREE from \"three\";\n\nexport interface IDrop {\n    uuid: string;\n    /**\n     * @desc \n     * - init  \n     * - fall  block \n     * - fall_cross  block  Air TallGrass\n     * - float \n     * - stable /\n    */\n    state: 'init' | 'fall' | 'fall_cross' | 'float' | 'stable';\n    mesh: THREE.InstancedMesh;\n    instanceId: number;\n    needUpdate: boolean;\n    x: number;\n    y: number;\n    z: number;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/drop/interface.ts"
    },
    "game/world/generate/index": {
      "path": "game/world/generate",
      "id": "game/world/generate/index",
      "file": "game/world/generate/index.ts",
      "absPath": "/game/world/generate",
      "__content": "import * as THREE from \"three\";\nimport { BlockID } from \"../../Block\";\nimport { IWorldParams } from \"../interface\";\nimport { generateTerrain } from \"./terrain\";\nimport { generateResources } from \"./resource\";\nimport { generateTrees } from \"./tree\";\nimport { generateTallGrass } from \"./tallGrass\";\nimport { generateFlowers } from \"./flower\";\nimport { ChunkParams } from \"../chunk/literal\";\n\nconst initEmptyChunk = () => {\n  const { width, height } = ChunkParams;\n  const data = new Array(width);\n  for (let x = 0; x < width; x++) {\n    data[x] = new Array(height);\n    for (let y = 0; y < height; y++) {\n      data[x][y] = new Array(width);\n      for (let z = 0; z < width; z++) {\n        data[x][y][z] = BlockID.Air;\n      }\n    }\n  }\n  return data as BlockID[][][];\n};\n\nexport const generateChunk = async (\n  params: IWorldParams,\n  x: number,\n  z: number\n) => {\n    const chunkPos = new THREE.Vector3(x, 0, z);\n    // full chunk block data fill with air\n    let data = initEmptyChunk();\n    // \n    data = generateResources(data, chunkPos);\n    // \n    data = generateTerrain( data, params, chunkPos);\n    // TODO    \n    data = generateTrees( data, params, chunkPos);\n    // Tip:   chunk  chunk position\n    data = generateTallGrass( data, params);\n    data = generateFlowers( data, params);\n    return data;\n};\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/generate/index.ts"
    },
    "components/toolbar/index": {
      "path": "components/toolbar",
      "id": "components/toolbar/index",
      "file": "components/toolbar/index.tsx",
      "absPath": "/components/toolbar",
      "__content": "import './index.scss';\nimport ToolBarBg from '@/assets/gui/toolbar.png'\nimport ToolBarActive from '@/assets/gui/toolbar_active.png'\n\n/**\n * @desc  UI \n */\nexport const ToolBar = () => {\n    return <div id=\"toolbar\">\n        <img id=\"toolbar-bg\" src={ToolBarBg} />\n        <img id=\"toolbar-active-border\" src={ToolBarActive} />\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-1\"></div>\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-2\"></div>\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-3\"></div>\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-4\"></div>\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-5\"></div>\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-6\"></div>\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-7\"></div>\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-8\"></div>\n        <div className=\"toolbar-slot\" id=\"toolbar-slot-9\"></div>\n    </div>\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/components/toolbar/index.tsx"
    },
    "game/gui/toolbar/literal": {
      "path": "game/gui/toolbar/literal",
      "id": "game/gui/toolbar/literal",
      "file": "game/gui/toolbar/literal.ts",
      "absPath": "/game/gui/toolbar/literal",
      "__content": "/**@desc  */\nexport const ToolBarMaxCount = 9;",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/gui/toolbar/literal.ts"
    },
    "game/gui/toolbar/toolbar": {
      "path": "game/gui/toolbar/toolbar",
      "id": "game/gui/toolbar/toolbar",
      "file": "game/gui/toolbar/toolbar.ts",
      "absPath": "/game/gui/toolbar/toolbar",
      "__content": "import { BlockID } from \"../../Block\";\nimport { BlockFactory } from \"../../Block/base/BlockFactory\";\nimport { PlayerParams } from \"../../player/literal\";\nimport { setActive } from \"./dom\";\nimport { ToolBarMaxCount } from \"./literal\";\n\n/**@desc  */\nexport class ToolBar {\n    // TODO   64  IToolBarItem\n    static toolbar: BlockID[] = [\n      // BlockID.Grass,\n      // BlockID.Dirt,\n      // BlockID.Stone,\n      // BlockID.StoneBrick,\n      // BlockID.RedstoneLamp,\n      // BlockID.CoalOre,\n      // BlockID.IronOre,\n      // BlockID.OakLog,\n      // BlockID.Leaves,\n      BlockID.FlowerRose\n    ];\n    static activeToolbarIndex = 0;\n    static get activeBlockId(): BlockID | undefined {\n      return ToolBar.toolbar[ToolBar.activeToolbarIndex];\n    }\n\n    /**@desc  */\n    static pushBlockId(blockId: BlockID) {\n      // TODO   \n      if (ToolBar.toolbar.length > ToolBarMaxCount) return;\n      for(let i = 0; i < ToolBar.toolbar.length; i++) {\n        if(ToolBar.toolbar[i] === BlockID.Air) {\n          ToolBar.toolbar[i] = blockId;\n          ToolBar.updateToolBarGUI();\n          PlayerParams.playerInstance?.updateHand();\n          return;\n        }\n      }\n      //  \n      ToolBar.toolbar.push(blockId);\n      ToolBar.updateToolBarGUI();\n      PlayerParams.playerInstance?.updateHand();\n    }\n\n    /**@desc  */\n    static removeBlockId() {\n      ToolBar.toolbar.splice(ToolBar.activeToolbarIndex, 1, BlockID.Air);\n      ToolBar.updateToolBarGUI();\n      PlayerParams.playerInstance?.updateHand();\n    }\n\n    static setToolBarGUI(index: number) {\n      ToolBar.activeToolbarIndex = index;\n      setActive(index);\n    }\n\n    /**@desc  */\n    static scrollToolBarGUI(key: string) {\n      // 0 - 8\n      if(key === 'KeyZ') { // left\n        const index = ToolBar.activeToolbarIndex - 1 >= 0 ? ToolBar.activeToolbarIndex - 1 : 8;\n        ToolBar.setToolBarGUI(index);\n      } else if(key === 'KeyC') { // right\n        const index = ToolBar.activeToolbarIndex + 1 > 8 ? 0 : ToolBar.activeToolbarIndex + 1;\n        ToolBar.setToolBarGUI(index);\n      }\n      // \n      PlayerParams.playerInstance?.updateHand();\n    }\n\n    /**@desc  block  ui */\n    static updateToolBarGUI() {\n      for (let i = 1; i <= ToolBarMaxCount; i++) {\n        const slot = document.getElementById(`toolbar-slot-${i}`);\n        if (slot) {\n          const blockId = ToolBar.toolbar[i - 1];\n          if (blockId !== undefined && blockId !== BlockID.Air) {\n            slot.style.backgroundImage = `url('${BlockFactory.getBlock(blockId).uiTexture}')`;\n          } else {\n            slot.style.backgroundImage = '';\n          }\n        }\n      }\n    }\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/gui/toolbar/toolbar.ts"
    },
    "game/world/chunk/literal": {
      "path": "game/world/chunk/literal",
      "id": "game/world/chunk/literal",
      "file": "game/world/chunk/literal.ts",
      "absPath": "/game/world/chunk/literal",
      "__content": "export const ChunkParams = {\n    /**@desc w * w * h */\n    width: 16,\n    height: 32,\n    halfSize: 8,\n    centerRadius: 4,\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/chunk/literal.ts"
    },
    "game/world/generate/tree": {
      "path": "game/world/generate/tree",
      "id": "game/world/generate/tree",
      "file": "game/world/generate/tree.ts",
      "absPath": "/game/world/generate/tree",
      "__content": "import * as THREE from \"three\";\nimport { BlockID } from \"../../Block\";\nimport { World } from \"../World\";\nimport { IWorldParams } from \"../interface\";\nimport { ChunkParams } from \"../chunk/literal\";\n\n/**\n * Generates trees\n */\nexport const generateTrees = (\n  input: BlockID[][][],\n  params: IWorldParams,\n  chunkPos: THREE.Vector3\n): BlockID[][][] => {\n  const { width, height } = ChunkParams;\n  const { trees } = params;\n  if (!trees) return input;\n  // \n  const canopySize = trees.canopy.size.max;\n  for (let baseX = canopySize; baseX < width - canopySize; baseX++) {\n    for (let baseZ = canopySize; baseZ < width - canopySize; baseZ++) {\n      const n =\n        World.simplex.noise(chunkPos.x + baseX, chunkPos.z + baseZ) * 0.5 + 0.5;\n      if (n < 1 - trees.frequency) {\n        continue;\n      }\n\n      // Find the grass tile\n      for (let y = height - 1; y >= 0; y--) {\n        if (input[baseX][y][baseZ] !== BlockID.Grass) {\n          continue;\n        }\n\n        // Found grass, move one time up\n        const baseY = y + 1;\n\n        const minH = trees.trunkHeight.min;\n        const maxH = trees.trunkHeight.max;\n        const trunkHeight = Math.round(World.rng.random() * (maxH - minH)) + minH;\n        const topY = baseY + trunkHeight;\n\n        // Fill in blocks for the trunk\n        for (let i = baseY; i < topY; i++) {\n          input[baseX][i][baseZ] = BlockID.OakLog;\n        }\n\n        // Generate the canopy \n        // generate layer by layer, 4 layers in total\n        for (let i = 0; i < 4; i++) {\n          if (i === 0) {\n            // first layer above the height of tree and has 5 leaves in a + shape\n            input[baseX][topY][baseZ] = BlockID.Leaves;\n            input[baseX + 1][topY][baseZ] = BlockID.Leaves;\n            input[baseX - 1][topY][baseZ] = BlockID.Leaves;\n            input[baseX][topY][baseZ + 1] = BlockID.Leaves;\n            input[baseX][topY][baseZ - 1] = BlockID.Leaves;\n          } else if (i === 1) {\n            // base layer\n            input[baseX][topY - i][baseZ] = BlockID.Leaves;\n            input[baseX + 1][topY - i][baseZ] = BlockID.Leaves;\n            input[baseX - 1][topY - i][baseZ] = BlockID.Leaves;\n            input[baseX][topY - i][baseZ + 1] = BlockID.Leaves;\n            input[baseX][topY - i][baseZ - 1] = BlockID.Leaves;\n\n            // diagonal leaf blocks grow min of 1 and max of 3 blocks away from the trunk\n            const minR = trees.canopy.size.min;\n            const maxR = trees.canopy.size.max;\n            const R = Math.round(World.rng.random() * (maxR - minR)) + minR;\n\n            // grow leaves in a diagonal shape\n            for (let x = -R; x <= R; x++) {\n              for (let z = -R; z <= R; z++) {\n                if (x * x + z * z > R * R) {\n                  continue;\n                }\n\n                if (input[baseX + x][topY - i][baseZ + z] !== BlockID.Air) {\n                  continue;\n                }\n\n                if (World.rng.random() > 0.5) {\n                  input[baseX + x][topY - i][baseZ + z] = BlockID.Leaves;\n                }\n              }\n            }\n          } else if (i === 2 || i == 3) {\n            for (let x = -2; x <= 2; x++) {\n              for (let z = -2; z <= 2; z++) {\n                if (input[baseX + x][topY - i][baseZ + z] !== BlockID.Air) {\n                  continue;\n                }\n\n                input[baseX + x][topY - i][baseZ + z] = BlockID.Leaves;\n              }\n            }\n\n            // remove 4 corners randomly\n            for (const x of [-2, 2]) {\n              for (const z of [-2, 2]) {\n                if (World.rng.random() > 0.5) {\n                  input[baseX + x][topY - i][baseZ + z] = BlockID.Air;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return input;\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/generate/tree.ts"
    },
    "game/audio/AudioManager": {
      "path": "game/audio/AudioManager",
      "id": "game/audio/AudioManager",
      "file": "game/audio/AudioManager.ts",
      "absPath": "/game/audio/AudioManager",
      "__content": "import { Howl } from \"howler\";\nimport { sample } from \"lodash\";\nimport soundData from \"./sounds.json\";\nimport spriteData from \"./sprite.json\";\nimport { BlockID } from \"../Block\";\nimport SpriteWebm from \"@/assets/audio/sprite.webm\";\nimport SpriteMp3 from \"@/assets/audio/sprite.mp3\";\nimport AmbientBGM from \"@/assets/audio/ambient.mp3\";\n\nclass AudioManager {\n  sprite: Howl;\n\n  constructor() {\n    this.sprite = this.loadSounds();\n  }\n\n  loadSounds() {\n    return new Howl({\n      src: [\n        SpriteWebm, \n        SpriteMp3\n      ],\n      sprite: spriteData.sprite as any,\n      volume: 0.6,\n    });\n  }\n\n  play(name: string) {\n    if (!(name in soundData)) {\n      console.warn(`Unknown sound: ${name}`);\n      return;\n    }\n\n    // dig and step sounds have same names and need to be differentiated\n    const prefix = name.split(\".\")[0] === \"dig\" ? \"dig_\" : \"\";\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const options = soundData[name][\"sounds\"];\n    const soundName = prefix + sample<string>(options).split(\"/\").pop();\n    this.sprite.play(soundName);\n  }\n\n  playBGM() {\n     const sound = new Howl({\n      src: [AmbientBGM],\n      loop: true,\n      volume: 2.5,\n    });\n    sound.play();\n  }\n\n  playWalkSound(blockUnderneath: BlockID) {\n    switch (blockUnderneath) {\n      case BlockID.Grass:\n      case BlockID.Dirt:\n      case BlockID.Leaves:\n        this.play(\"step.grass\");\n        break;\n      case BlockID.OakLog:\n        this.play(\"step.wood\");\n        break;\n      case BlockID.Stone:\n      case BlockID.CoalOre:\n      case BlockID.IronOre:\n      case BlockID.Bedrock:\n        this.play(\"step.stone\");\n        break;\n    }\n  }\n}\n\nconst audioManager = new AudioManager();\nexport default audioManager;\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/audio/AudioManager.ts"
    },
    "game/engine/mesh/flower": {
      "path": "game/engine/mesh/flower",
      "id": "game/engine/mesh/flower",
      "file": "game/engine/mesh/flower.ts",
      "absPath": "/game/engine/mesh/flower",
      "__content": "import * as THREE from \"three\";\nimport { FlowerGeometry } from \"../geometry\";\nimport { FlowerDandelionMaterial, FlowerRoseMaterial } from \"../material\";\n\nexport function initRoseMesh() {\n    const mesh = new THREE.Mesh(FlowerGeometry, FlowerRoseMaterial);\n    mesh.scale.set(0.4, 0.4, 0.4);\n    mesh.rotation.x = Math.PI * 1.3;\n    mesh.position.set(0, -0.4, 0.1);\n    return mesh;\n}\n\nexport function initDandelionMesh() {\n    const mesh = new THREE.Mesh(FlowerGeometry, FlowerDandelionMaterial);\n    mesh.scale.set(0.4, 0.4, 0.4);\n    mesh.rotation.x = Math.PI * 1.3;\n    mesh.position.set(0, -0.4, 0.1);\n    return mesh;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/mesh/flower.ts"
    },
    "game/helper/chunkHelper": {
      "path": "game/helper/chunkHelper",
      "id": "game/helper/chunkHelper",
      "file": "game/helper/chunkHelper.ts",
      "absPath": "/game/helper/chunkHelper",
      "__content": "import * as THREE from \"three\";\nimport { ChunkParams } from \"../world/chunk/literal\";\nimport { PlayerParams } from \"../player/literal\";\nimport { World } from \"../world/World\";\nimport { IChunkKey } from \"../player/interface\";\nimport { DevControl, updateChunkCoordGUI } from \"../dev\";\n\nfunction initChunkHelper() {\n    const chunkHelper = new THREE.Mesh(\n    new THREE.BoxGeometry(ChunkParams.width, ChunkParams.height, ChunkParams.width), \n    new THREE.MeshBasicMaterial({\n        color: new THREE.Color(1, 1, 1),\n        opacity: 0.3,\n        transparent: true,\n    }))\n    chunkHelper.userData.isActive = false;\n    chunkHelper.position.x = ChunkParams.width / 2;\n    chunkHelper.position.z = ChunkParams.width / 2;\n    chunkHelper.position.y = ChunkParams.height / 2;\n    return chunkHelper;\n}\n\nfunction activeChunkHelper(helper: THREE.Mesh) {\n    helper.userData.isActive = true;\n    (helper.material as THREE.MeshBasicMaterial).color.setRGB(1, 0, 0);\n}\n\nfunction inActiveChunkHelper(helper: THREE.Mesh) {\n    helper.userData.isActive = false;\n    (helper.material as THREE.MeshBasicMaterial).color.setRGB(1, 1, 1);\n}\n\n/**\n *  4  chunk\n * @param nearFourChunks \n * @param world \n */\nlet lastNearFourChunks: IChunkKey[] = [];\nfunction updatePlayerNear(chunk: IChunkKey, nearFourChunks: IChunkKey[], world: World, isInChunkCenter: boolean) {\n    updateChunkCoordGUI(chunk.x, chunk.z);\n    PlayerParams.currentChunk = chunk;\n    PlayerParams.nearFourChunks = nearFourChunks;\n    PlayerParams.isInChunkCenter = isInChunkCenter;\n    PlayerParams.activeChunks = isInChunkCenter ? [chunk] : nearFourChunks;\n\n    const { chunkHelperVisible } = DevControl;\n    chunkHelperVisible && PlayerParams.activeChunks.forEach((nearChunk) => {\n        const chunk = world.getChunk(nearChunk.x, nearChunk.z);\n        // console.log(chunk?.userData)\n        const nearChunkHelper = chunk?.helper;\n        nearChunkHelper && activeChunkHelper(nearChunkHelper);\n    });\n    chunkHelperVisible && lastNearFourChunks.forEach((lastNearChunk) => {\n        //   4  chunk\n        if(PlayerParams.activeChunks.filter(chunk => chunk.x === lastNearChunk.x && chunk.z === lastNearChunk.z).length > 0) return;\n        const lastChunkHelper = world.getChunk(lastNearChunk.x, lastNearChunk.z)?.helper;\n        lastChunkHelper && inActiveChunkHelper(lastChunkHelper);\n    });\n    // for dev test\n    lastNearFourChunks = PlayerParams.activeChunks;\n}\n\nexport {\n    activeChunkHelper,\n    inActiveChunkHelper,\n    initChunkHelper,\n    updatePlayerNear,\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/helper/chunkHelper.ts"
    },
    "game/world/drop/literal": {
      "path": "game/world/drop/literal",
      "id": "game/world/drop/literal",
      "file": "game/world/drop/literal.ts",
      "absPath": "/game/world/drop/literal",
      "__content": "// TIP  200 \nexport const MaxCount = 200;\nexport const FloatHeight = 0.15;\nexport const DropDt = 0.022;\nexport const DropLimit = FloatHeight + DropDt\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/drop/literal.ts"
    },
    "components/debug/index": {
      "path": "components/debug",
      "id": "components/debug/index",
      "file": "components/debug/index.tsx",
      "absPath": "/components/debug",
      "__content": "import './index.scss';\n\nexport const Debug = () => {\n    return  <div id=\"debug\">\n        <div className=\"stat\" id=\"player-pos-x\"></div>\n        <div className=\"stat\" id=\"player-pos-y\"></div>\n        <div className=\"stat\" id=\"player-pos-z\"></div>\n        <div className=\"stat\" id=\"triangle-count\"></div>\n        <div className=\"stat\" id=\"render-calls\"></div>\n        <div className=\"stat\" id=\"chunk-coord\"></div>\n        <div className=\"stat\" id=\"chunk-block-coord\"></div>\n        <div className=\"stat\" id=\"world-block-coord\"></div>\n      </div>\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/components/debug/index.tsx"
    },
    "game/engine/mesh/block": {
      "path": "game/engine/mesh/block",
      "id": "game/engine/mesh/block",
      "file": "game/engine/mesh/block.ts",
      "absPath": "/game/engine/mesh/block",
      "__content": "import * as THREE from \"three\";\nimport { CubeGeometry } from \"../geometry\";\nimport { DirtBlockMaterial, GrassBlockMaterial, StoneMaterial } from \"../material\";\n\nconst CubeScale = 0.3;\nexport function initGrassBlockMesh() {\n    const mesh = new THREE.Mesh(CubeGeometry, GrassBlockMaterial);\n    return setUp(mesh);\n}\n\nexport function initDirtBlockMesh() {\n    const mesh = new THREE.Mesh(CubeGeometry, DirtBlockMaterial);\n    return setUp(mesh);\n}\n\nexport function initStoneBlockMesh() {\n    const mesh = new THREE.Mesh(CubeGeometry, StoneMaterial);\n    return setUp(mesh);\n}\n\nfunction setUp(mesh: THREE.Mesh) {\n    mesh.scale.set(CubeScale, CubeScale, CubeScale);\n    mesh.rotation.x = Math.PI * 1.55;\n    mesh.rotation.y = Math.PI * 0.12;\n    mesh.position.set(0, -0.4, 0.05);\n    return mesh;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/mesh/block.ts"
    },
    "game/engine/mesh/index": {
      "path": "game/engine/mesh",
      "id": "game/engine/mesh/index",
      "file": "game/engine/mesh/index.ts",
      "absPath": "/game/engine/mesh",
      "__content": "import * as THREE from \"three\";\nimport { MeshType } from \"./constant\";\nimport { initDandelionMesh, initRoseMesh } from \"./flower\";\nimport { initDirtBlockMesh, initGrassBlockMesh, initStoneBlockMesh } from \"./block\";\n\n/**@desc  */\nexport class MeshPool {\n    private static pool: Map<MeshType, THREE.Mesh> = new Map();\n    static getMesh(type: MeshType) {\n        if (MeshPool.pool.get(type)) {\n            return MeshPool.pool.get(type)!;\n        }\n        //  Hand Mesh\n        let mesh: THREE.Mesh = initHandMesh();\n        if (type === MeshType.GrassBlock) {\n            mesh = initGrassBlockMesh();\n        } else if (type === MeshType.FlowerRose) {\n            mesh = initRoseMesh();            \n        } else if (type === MeshType.FlowerDandelion) {\n            mesh = initDandelionMesh();\n        } else if (type === MeshType.DirtBlock) {\n            mesh = initDirtBlockMesh();\n        } else if(type === MeshType.StoneBlock) {\n            mesh = initStoneBlockMesh();\n        }\n        MeshPool.pool.set(type, mesh);\n        return mesh;\n    }\n}\n\n/**@desc  mesh */\nfunction initHandMesh() {\n    const handLength = 0.5;\n    const geometry = new THREE.BoxGeometry(0.1, handLength, 0.15);\n    const material = new THREE.MeshLambertMaterial();\n    const hand = new THREE.Mesh(geometry, material);\n    hand.position.set(0, -handLength / 2, 0);\n    return hand;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/mesh/index.ts"
    },
    "game/physics/interface": {
      "path": "game/physics/interface",
      "id": "game/physics/interface",
      "file": "game/physics/interface.ts",
      "absPath": "/game/physics/interface",
      "__content": "import * as THREE from \"three\";\nimport { BlockID } from \"../Block\";\n\nexport type Candidate = {\n  block: BlockID;\n  x: number;\n  y: number;\n  z: number;\n};\n\nexport type Collision = {\n  candidate: Candidate;\n  contactPoint: number[];\n  normal: THREE.Vector3;\n  overlap: number;\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/physics/interface.ts"
    },
    "game/world/chunk/utils": {
      "path": "game/world/chunk/utils",
      "id": "game/world/chunk/utils",
      "file": "game/world/chunk/utils.ts",
      "absPath": "/game/world/chunk/utils",
      "__content": "import { ChunkParams } from \"./literal\";\n\n/**\n *  chunk xz \n * @param x \n * @param z \n *  Returns the chunk and world coordinates of the block at (x, y, z)\n *  - `chunk` is the coordinates of the chunk containing the block\n *  - `block` is the world coordinates of the block\n */\nexport function worldToChunkCoords(\n    x: number,\n    y: number,\n    z: number\n  ): {\n    chunk: { x: number; z: number };\n    block: { x: number; y: number; z: number };\n  } {\n    const { width } = ChunkParams;\n    const [chunkX, chunkZ] = worldToChunkCoordsXZ(x, z);\n\n    const blockX = x - chunkX * width;\n    const blockZ = z - chunkZ * width;\n\n    return {\n      chunk: { x: chunkX, z: chunkZ },\n      block: { x: blockX, y, z: blockZ },\n    };\n}\nexport function playerToChunkCoords(\n    x: number,\n    y: number,\n    z: number\n  ): {\n    isInChunkCenter: boolean;\n    chunk: { x: number; z: number };\n    nearFourChunks: { x: number; z: number }[];\n    block: { x: number; y: number; z: number };\n  } {\n    const { width, halfSize, centerRadius } = ChunkParams;\n    const [chunkX, chunkZ] = worldToChunkCoordsXZ(x, z);\n\n    const blockX = x - chunkX * width;\n    const blockZ = z - chunkZ * width;\n    const isInChunkCenter = Math.abs(blockX - halfSize) < centerRadius && Math.abs(blockZ - halfSize) < centerRadius;\n    \n    const toX = blockX < width / 2;\n    const toZ = blockZ < width / 2;\n    const cx = chunkX;\n    const cz = chunkZ;\n\n    return {\n      isInChunkCenter,\n      chunk: { x: cx, z: cz },\n      nearFourChunks: [\n        { x: cx,                    z: cz },\n        { x: toX ? cx - 1 : cx + 1, z: cz },\n        { x: cx,                    z: toZ ? cz - 1 : cz + 1 },\n        { x: toX ? cx - 1 : cx + 1, z: toZ ? cz - 1 : cz + 1 },\n      ],\n      block: { x: blockX, y, z: blockZ },\n    };\n}\n\nexport function worldToChunkCoordsXZ(x: number, z: number) {\n  const { width } = ChunkParams;\n  const chunkX = Math.floor(x / width);\n  const chunkZ = Math.floor(z / width);\n  return [chunkX, chunkZ];\n}\n\n/**\n * \n * @param x \n * @param y \n * @param z \n * @returns \n */\nexport function worldToCeilBlockCoord(x: number, y: number, z: number) {\n  // Tip: Important  block   js   0.5\n  const safeX = roundToHalf(x);\n  const safeY = roundToHalf(y);\n  const safeZ = roundToHalf(z);\n  return [Math.ceil(safeX - 0.5), Math.ceil(safeY - 0.5), Math.ceil(safeZ - 0.5)];\n}\n\nfunction roundToHalf(num: number) {\n  return Math.round(num * 2) / 2;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/chunk/utils.ts"
    },
    "components/logo/index": {
      "path": "components/logo",
      "id": "components/logo/index",
      "file": "components/logo/index.tsx",
      "absPath": "/components/logo",
      "__content": "import './index.scss';\nimport LogoImg from '@/assets/gui/logo.png'\n\n/**@desc  logo */\nexport const Logo = () => {\n    return <img id=\"logo\" className='poster_logo' src={LogoImg} />\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/components/logo/index.tsx"
    },
    "game/Block/base/Block": {
      "path": "game/Block/base/Block",
      "id": "game/Block/base/Block",
      "file": "game/Block/base/Block.ts",
      "absPath": "/game/Block/base/Block",
      "__content": "import * as THREE from \"three\";\nimport { BlockID } from \"..\";\n\n// \nexport enum RenderGeometry {\n  Cube,\n  // TODO Cross => TallGrass\n  Cross,\n  Flower,\n}\n\nexport type MaterialType = THREE.MeshLambertMaterial | THREE.MeshBasicMaterial;\n\nexport abstract class Block {\n  abstract id: BlockID;\n  abstract material: MaterialType | MaterialType[];\n  abstract uiTexture: string;\n  abstract geometry: RenderGeometry;\n  abstract transparent: boolean;\n  abstract canPassThrough: boolean;\n  abstract canDrop: boolean;\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/base/Block.ts"
    },
    "game/player/interface": {
      "path": "game/player/interface",
      "id": "game/player/interface",
      "file": "game/player/interface.ts",
      "absPath": "/game/player/interface",
      "__content": "import * as THREE from \"three\";\n\nexport type IChunkKey = {x: number, z: number};\nexport type ISelectedCoords = THREE.Vector3 | null;\nexport type ICurrentChunk = IChunkKey | null;\nexport type INearFourChunks = IChunkKey[];\nexport type PlayerEventKey = \"KeyW\" | \"KeyS\" | \"KeyA\" | \"KeyD\" | \"KeyR\" | \"Space\";\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/interface.ts"
    },
    "game/world/WorldChunk": {
      "path": "game/world/WorldChunk",
      "id": "game/world/WorldChunk",
      "file": "game/world/WorldChunk.ts",
      "absPath": "/game/world/WorldChunk",
      "__content": "import * as THREE from \"three\";\nimport audioManager from \"../audio/AudioManager\";\nimport { BlockID, blockIDValues } from \"../Block\";\nimport { RenderGeometry } from \"../Block/base/Block\";\nimport { BlockFactory } from \"../Block/base/BlockFactory\";\nimport { DataStore } from \"./DataStore\";\nimport { IWorldParams, IInstanceData } from \"./interface\";\nimport { generateChunk } from \"./generate\";\nimport { DropGroup } from \"./drop/drop\";\nimport { ChunkParams } from \"./chunk/literal\";\nimport { initChunkHelper } from \"../helper/chunkHelper\";\nimport { DevControl } from \"../dev\";\nimport { wireframeMaterial } from \"../engine/material\";\nimport { InstanceMeshAdd } from \"./chunk/instance\";\nimport { getInstancedGeometry } from \"../engine/geometry\";\n\nexport class WorldChunk extends THREE.Group {\n  data: IInstanceData[][][] = [];\n  params: IWorldParams;\n  loaded: boolean;\n  dataStore: DataStore;\n  dropGroup: DropGroup;\n  // for dev test\n  helper: THREE.Mesh | null = null;\n  helperColor: THREE.Color | null = null;\n\n  constructor(params: IWorldParams, dataStore: DataStore) {\n    super();\n    this.params = params;\n    this.dataStore = dataStore;\n    this.dropGroup = new DropGroup(this.position, this);\n    this.loaded = false;\n    if(DevControl.chunkHelperVisible) {\n      this.helperColor = new THREE.Color(Math.random(), Math.random(), Math.random())\n      this.helper = initChunkHelper()\n      this.helper.visible = true;\n    }\n  }\n\n  async generate() {\n    // const start = performance.now();\n    //  chunk \n    const { x, z } = this.position;\n    const data: BlockID[][][] = await generateChunk(this.params, x, z);\n\n    //  callback\n    requestIdleCallback(() => {\n        //  chunk \n        this.initializeTerrain(data);\n        // \n        this.loadPlayerChanges();\n\n        //  chunk  mesh\n        this.generateMeshes(data);\n        this.loaded = true;\n        // console.log(`Loaded chunk in ${performance.now() - start}ms`);\n      },\n      { timeout: 1000 }\n    );\n  }\n\n  /**\n   * Initializes the terrain data\n   */\n  initializeTerrain(data: BlockID[][][]) {\n    const { width, height } = ChunkParams;\n    this.data = [];\n    for (let x = 0; x < width; x++) {\n      const slice: IInstanceData[][] = [];\n      for (let y = 0; y < height; y++) {\n        const row: IInstanceData[] = [];\n        for (let z = 0; z < width; z++) {\n          row.push({\n            block: data[x][y][z],\n            instanceIds: [],\n          });\n        }\n        slice.push(row);\n      }\n      this.data.push(slice);\n    }\n  }\n\n  /**\n   * Loads player changes from the data store\n   */\n  loadPlayerChanges() {\n    const { width, height } = ChunkParams;\n    for (let x = 0; x < width; x++) {\n      for (let y = 0; y < height; y++) {\n        for (let z = 0; z < width; z++) {\n          // Overwrite with value in data store if it exists\n          if (\n            this.dataStore.contains(this.position.x, this.position.z, x, y, z)\n          ) {\n            const blockId = this.dataStore.get(\n              this.position.x,\n              this.position.z,\n              x,\n              y,\n              z\n            );\n            // console.log(`Overwriting block at ${x}, ${y}, ${z} to ${blockId}`);\n            this.setBlockId(x, y, z, blockId);\n          }\n        }\n      }\n    }\n  }\n\n  //  chunk  block  mesh\n  generateMeshes(data: BlockID[][][]) {\n    const { width, height } = ChunkParams;\n    const { chunkHelperVisible, chunkWireframeMode } = DevControl;\n    this.clear();\n\n    const maxCount = width * width * height;\n    // Create lookup table where key is block id\n    const meshes: Partial<Record<BlockID, THREE.InstancedMesh>> = {};\n\n    //  InstanceMesh chunk ,  block  instanced mesh\n    for (const blockId of blockIDValues) {\n      const blockEntity = BlockFactory.getBlock(blockId);\n      const blockGeometry = blockEntity.geometry;\n      const initChunkMesh = () => {\n        if(chunkHelperVisible) { // make dev chunk\n          const helperColor = this.helperColor as THREE.Color;\n          return new THREE.InstancedMesh(getInstancedGeometry(blockGeometry),\n        new THREE.MeshBasicMaterial({ wireframe: false, color: helperColor }),\n            maxCount\n          )\n        } else {\n          const material = chunkWireframeMode ? wireframeMaterial : blockEntity.material;\n          return new THREE.InstancedMesh(getInstancedGeometry(blockGeometry),\n            material,\n            maxCount\n          );\n        }\n      }\n      const mesh = initChunkMesh();\n      mesh.name = blockEntity.constructor.name;\n      mesh.count = 0;\n      mesh.castShadow = !blockEntity.canPassThrough;\n      mesh.receiveShadow = true;\n      mesh.matrixAutoUpdate = false;\n      meshes[blockEntity.id] = mesh;\n    }\n    //  block  Mesh\n    for (let x = 0; x < width; x++) {\n      for (let y = 0; y < height; y++) {\n        for (let z = 0; z < width; z++) {\n          const block = data[x][y][z];\n          const blockClass = BlockFactory.getBlock(block);\n          //  mesh\n          if (block === BlockID.Air) continue;\n          //  block  InstanceMesh\n          const mesh = meshes[block];\n          if (!mesh) continue;\n          //   chunk  \n          if (block && !this.isBlockObscured(x, y, z) && !this.isBorderBlock(x, y, z)) {\n            const ids = InstanceMeshAdd(mesh, blockClass, x, y, z);\n            ids && this.setBlockInstanceIds(x, y, z, ids);\n          }\n        }\n      }\n    }\n\n    // Add meshes to group\n    for (const mesh of Object.values(meshes)) {\n      // mesh  add \n      mesh && this.add(mesh);\n    }\n    // \n    this.add(this.dropGroup);\n    // add chunk helper for dev test\n    this.helper && this.add(this.helper);\n  }\n  setBlockId(x: number, y: number, z: number, blockId: BlockID) {\n    if (this.inBounds(x, y, z)) {\n      this.data[x][y][z].block = blockId;\n    }\n  }\n\n  /**\n   * Gets the block data at (x, y, z) for this chunk\n   */\n  getBlock(x: number, y: number, z: number): IInstanceData | null {\n    if (this.inBounds(x, y, z)) {\n      if(this.data[x] !== undefined && this.data[x][y] !== undefined && this.data[x][y][z] !== undefined) {\n        return this.data[x][y][z];\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   *@desc Adds a new block at (x, y, z) for this chunk \n   */\n  addBlock(x: number, y: number, z: number, blockId: BlockID) {\n    // Safety check that we aren't adding a block for one that already exists\n    if (this.getBlock(x, y, z)?.block === BlockID.Air) {\n      this.setBlockId(x, y, z, blockId);\n      this.addBlockInstance(x, y, z);\n      this.dataStore.set(this.position.x, this.position.z, x, y, z, blockId);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * @desc Removes the block at (x, y, z => chunk coords)\n   */\n  removeBlock(x: number, y: number, z: number) {\n    // console.log(`Removing block at ${x}, ${y}, ${z}`);\n    const block = this.getBlock(x, y, z);\n    // console.log('chunk', x, y, z, this.getBlock(x, y - 1, z));\n    if(!block || block.block === BlockID.Air || block.block === BlockID.Bedrock) return;\n    const blockId = block.block;\n    this.playBlockSound(blockId);\n    this.deleteBlockInstance(x, y, z, block);\n    \n    // TODO  canDrop  \n    const blockEntity = BlockFactory.getBlock(blockId);\n    if(blockEntity.canDrop) {\n      // \n      this.dropGroup.drop(block.block, x, y, z);\n    }    \n\n    this.setBlockId(x, y, z, BlockID.Air);\n    //  Air\n    this.dataStore.set(\n      this.position.x,\n      this.position.z,\n      x,\n      y,\n      z,\n      BlockID.Air\n    );\n  }\n\n  async playBlockSound(blockId: BlockID) {\n    switch (blockId) {\n      case BlockID.Grass:\n      case BlockID.Dirt:\n      case BlockID.Leaves:\n      case BlockID.TallGrass:\n      case BlockID.FlowerDandelion:\n      case BlockID.FlowerRose:\n        audioManager.play(\"dig.grass\");\n        break;\n      case BlockID.OakLog:\n        audioManager.play(\"dig.wood\");\n        break;\n      default:\n        audioManager.play(\"dig.stone\");\n        break;\n    }\n  }\n\n  /**\n   * @desc Creates a new instance for the block at (x, y, z)\n   */\n  addBlockInstance(x: number, y: number, z: number) {\n    const block = this.getBlock(x, y, z);\n    // TODO  block instance   block data \n    // If the block is not air and doesn't have an instance id, create a new instance\n    if (\n      block &&\n      block.block !== BlockID.Air &&\n      block.instanceIds.length === 0\n    ) {\n      const blockClass = BlockFactory.getBlock(block.block);\n      const mesh = this.children.find(\n        (instanceMesh) => instanceMesh.name === blockClass.constructor.name\n      ) as THREE.InstancedMesh;\n      if (mesh) {\n        // \n        this.playBlockSound(block.block);\n        const ids = InstanceMeshAdd(mesh, blockClass, x, y, z);\n        if(ids) {\n          this.setBlockInstanceIds(x, y, z, ids);\n          mesh.instanceMatrix.needsUpdate = true;\n          //  or \n          mesh.computeBoundingSphere();\n        } else {\n          console.warn(`Failed to add instance for block ${block.block}`);\n        }\n      }\n    }\n  }\n\n  /**\n   * Removes the mesh instance associated with `block` by swapping it with the last instance and decrementing instance count\n   */\n  deleteBlockInstance(x: number, y: number, z: number, deleteBlock?: IInstanceData) {\n    const block = deleteBlock ? deleteBlock : this.getBlock(x, y, z);\n    if (block?.block === BlockID.Air || !block?.instanceIds.length) return;\n\n    // Get the mesh of the block\n    const mesh = this.children.find(\n      (instanceMesh) =>\n        instanceMesh.name ===\n        BlockFactory.getBlock(block.block).constructor.name\n    ) as THREE.InstancedMesh;\n\n    /**   instance \n     *  desc img: https://lf3-static.bytednsdoc.com/obj/eden-cn/vhfuhpxpf/three/minicraft/desc/delete_block.jpeg\n     * instanceMesh  instance id  block  or  instance id\n     *  instance id  instanceMesh instance id \n     *  mesh.count--  instance id \n     */\n    // We can't remove instances directly, so we need to swap each with the last instance and decrement count by 1\n    const lastBlockInstanceIds: number[] = [];\n    const lastBlockCoords = new THREE.Vector3();\n    block.instanceIds.forEach((instanceId) => {\n      //  instanceMesh  instance id \n      const lastMatrix = new THREE.Matrix4();\n      mesh.getMatrixAt(mesh.count - 1, lastMatrix);\n\n      // Also need to get block coords of instance to update instance id of the block\n      // const lastBlockCoords = new THREE.Vector3();\n      // instanceMesh  instance  block \n      lastBlockCoords.setFromMatrixPosition(lastMatrix);\n      // this.setBlockInstanceIds(\n      //   Math.floor(lastBlockCoords.x),\n      //   Math.floor(lastBlockCoords.y),\n      //   Math.floor(lastBlockCoords.z),\n      //   [instanceId]\n      // );\n      //  instance \n      lastBlockInstanceIds.push(instanceId);\n\n      // Swap transformation matrices\n      //  mesh  instance  instance \n      //  instance  mesh  instance  block\n      mesh.setMatrixAt(instanceId, lastMatrix);\n\n      // Decrement instance count\n      mesh.count--;\n\n      // Notify the instanced mesh we updated the instance matrix\n      mesh.instanceMatrix.needsUpdate = true;\n      mesh.computeBoundingSphere();\n    });\n    /**\n     *  mesh  instance  block  instanceIds\n     */\n     this.setBlockInstanceIds(\n        Math.floor(lastBlockCoords.x),\n        Math.floor(lastBlockCoords.y),\n        Math.floor(lastBlockCoords.z),\n        lastBlockInstanceIds,\n      );\n\n    this.setBlockInstanceIds(x, y, z, []);\n  }\n\n  /**\n   * Sets the block instance data at (x, y, z) for this chunk\n   */\n  setBlockInstanceIds(x: number, y: number, z: number, instanceIds: number[]) {\n    if (this.inBounds(x, y, z)) {\n      if(this.data[x][y][z].block === BlockID.TallGrass && instanceIds.length === 1) {\n        // console.log('setBlockInstanceIds:', x, y, z,instanceIds);\n      }\n      this.data[x][y][z].instanceIds = instanceIds;\n    }\n  }\n\n  /**\n   * Checks if the given coordinates are within the world bounds\n   */\n  inBounds(x: number, y: number, z: number): boolean {\n    const { width, height } = ChunkParams;\n    return (\n      x >= 0 &&\n      x < width &&\n      y >= 0 &&\n      y < height &&\n      z >= 0 &&\n      z < width\n    );\n  }\n\n  /**\n   * \n   * @param x \n   * @param y \n   * @param z \n   * @returns \n   */\n  isBlockObscured(x: number, y: number, z: number): boolean {\n    const up = this.getBlock(x, y + 1, z);\n    const down = this.getBlock(x, y - 1, z);\n    const left = this.getBlock(x - 1, y, z);\n    const right = this.getBlock(x + 1, y, z);\n    const front = this.getBlock(x, y, z + 1);\n    const back = this.getBlock(x, y, z - 1);\n\n    const getBlockClass = (blockId: BlockID) => BlockFactory.getBlock(blockId);\n\n    // If any of the block's sides are exposed, it's not obscured\n    if (\n      !up ||\n      !down ||\n      !left ||\n      !right ||\n      !front ||\n      !back ||\n      getBlockClass(up.block).transparent ||\n      getBlockClass(down.block).transparent ||\n      getBlockClass(left.block).transparent ||\n      getBlockClass(right.block).transparent ||\n      getBlockClass(front.block).transparent ||\n      getBlockClass(back.block).transparent\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n\n  /**\n   *  chunk \n   *  \n   * @param x \n   * @param y \n   * @param z \n   * @returns \n   */\n  isBorderBlock(x: number, y: number, z: number): boolean {\n    const { width, height } = ChunkParams;\n    // TODO  \n    const up = this.getBlock(x, y + 1, z);\n    const upBlockClass = up ? BlockFactory.getBlock(up.block) : null;\n    // \n    if (upBlockClass?.canPassThrough) {\n      return false;\n    }\n\n    return (\n      x === 0 ||\n      x === width - 1 ||\n      y === 0 ||\n      y === height - 1 ||\n      z === 0 ||\n      z === width - 1\n    );\n  }\n\n  disposeChildren() {\n    this.traverse((child) => {\n      if (child instanceof THREE.Mesh) {\n        child.geometry.dispose();\n      }\n    });\n    this.clear();\n  }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/WorldChunk.ts"
    },
    "game/dev/orbitCamera": {
      "path": "game/dev/orbitCamera",
      "id": "game/dev/orbitCamera",
      "file": "game/dev/orbitCamera.ts",
      "absPath": "/game/dev/orbitCamera",
      "__content": "import * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { Player } from \"../player/Player\";\nimport { PlayerInitPosition } from \"../player/literal\";\nimport { ScreenViewer } from \"../gui/viewer\";\n\nexport function setOrbitCameraPosition(orbitCamera: THREE.PerspectiveCamera, x: number, y: number, z: number) {\n    // orbitCamera.position.set(x - 64, y - 20, z - 64);\n    // orbitCamera.position.set(x , y - 20, z );\n    // middle high\n    // orbitCamera.position.set(x , y - 20, z + 10 );\n    // top high\n    orbitCamera.position.set(x , y - 5, z );\n}\n\n// \nexport function initOrbitCamera(renderer: THREE.WebGLRenderer) {\n  const orbitCamera = new THREE.PerspectiveCamera(\n    75,\n    ScreenViewer.width / ScreenViewer.height\n    );\n    // 32, 72, 32\n    const { x, y, z } = PlayerInitPosition\n    setOrbitCameraPosition(orbitCamera, x, y, z);\n\n    const controls = new OrbitControls(\n        orbitCamera,\n        renderer.domElement\n    );\n    orbitCamera.layers.enableAll();\n    controls.target.set(0, 0, 0);\n    controls.update();\n    \n    return {\n        orbitCamera,\n        controls\n    }\n}\n\n/**\n *   \n * @param camera \n * @param controls \n * @param player \n */\nexport function updateOrbitControls(camera: THREE.PerspectiveCamera, controls: OrbitControls, player: Player) {\n    if(!camera || !controls || !player) return;\n    // player.controls.isLocked === true \n    // player.controls.isLocked === false \n    if(!controls.target.equals(player.position) && player.controls.isLocked) {\n        const {x, y, z} = player.position;\n        // camera.position.set(x - 64, PlayerInitPosition.y - 20, z - 64);\n        // camera.position.set(x , PlayerInitPosition.y - 20, z );\n        setOrbitCameraPosition(camera, x, PlayerInitPosition.y, z);\n        controls.target.set(x, y, z);\n    };\n\n    //   this.controls.autoRotate = false;\n    //   this.controls.autoRotateSpeed = 2.0;\n    controls.update();\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/dev/orbitCamera.ts"
    },
    "game/gui/toolbar/dom": {
      "path": "game/gui/toolbar/dom",
      "id": "game/gui/toolbar/dom",
      "file": "game/gui/toolbar/dom.ts",
      "absPath": "/game/gui/toolbar/dom",
      "__content": "let toolbarActiveBorder: HTMLElement | null = null;\n/**@desc  ui */\nexport function setActive(activeIndex: number) {\n    if(!toolbarActiveBorder) {\n        toolbarActiveBorder = document.getElementById(\"toolbar-active-border\")\n        if(!toolbarActiveBorder) {\n            console.error(\"toolbar-active-border not found\");\n            return;\n        }\n    }\n    toolbarActiveBorder.setAttribute(\"style\", `left: ${activeIndex * 11}%`);\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/gui/toolbar/dom.ts"
    },
    "game/physics/literal": {
      "path": "game/physics/literal",
      "id": "game/physics/literal",
      "file": "game/physics/literal.ts",
      "absPath": "/game/physics/literal",
      "__content": "export class PhysicsParams {\n    static enabled = false;\n    // Acceleration due to gravity\n    static GRAVITY = -32;\n    /**@desc Physics simulation rate  */\n    static simulationRate = 250;\n    /**@desc  */\n    static stepSize = 1 / PhysicsParams.simulationRate;\n    /**@desc Accumulator to keep track of leftover dt */\n    static accumulator = 0;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/physics/literal.ts"
    },
    "game/player/keyboard": {
      "path": "game/player/keyboard",
      "id": "game/player/keyboard",
      "file": "game/player/keyboard.ts",
      "absPath": "/game/player/keyboard",
      "__content": "import Game from \"../Game\";\nimport { ToolBar } from \"../gui\";\nimport { Action } from \"./action\";\nimport { Player } from \"./Player\";\n\n/**\n * @desc \n */\nexport class KeyboardInput {\n  /**@desc  */\n  static spacePressed = false;\n  /**@desc  w   */\n  static wKeyPressed = false;\n  /**@desc  w   */\n  static lastWPressed = 0;\n  private player: Player;\n  \n  constructor(player: Player) {\n      this.player = player;\n      document.addEventListener(\"keydown\", this.onKeyDown.bind(this));\n      document.addEventListener(\"keyup\", this.onKeyUp.bind(this));\n  }\n\n  onKeyDown(event: KeyboardEvent) {\n    const validKeys = [\"KeyW\", \"KeyA\", \"KeyS\", \"KeyD\", \"KeyR\"];\n    //  or  \n    if (validKeys.includes(event.code) && !this.player.controls.isLocked) {\n      this.player.controls.lock();\n    }\n    switch (event.code) {\n      case \"Digit1\":\n      case \"Digit2\":\n      case \"Digit3\":\n      case \"Digit4\":\n      case \"Digit5\":\n      case \"Digit6\":\n      case \"Digit7\":\n      case \"Digit8\":\n      case \"Digit9\":\n        ToolBar.setToolBarGUI(Number(event.key) - 1);\n        break;\n      case \"KeyZ\":  // \n      case \"KeyC\":  // \n        ToolBar.scrollToolBarGUI(event.code);\n        break;\n      case \"KeyW\":\n      case \"KeyA\":\n      case \"KeyS\":\n      case \"KeyD\":\n      case \"KeyR\":\n      case \"Space\":\n        Action.handlePlayerEvent(this.player, event.code);\n        break;\n      case \"KeyV\":\n        if(!Game.v) Game.v = 2;\n        Game.v = Game.v === 1 ? 2 : 1;\n        break;\n    }\n  }\n\n  onKeyUp(event: KeyboardEvent) {\n    switch (event.code) {\n      case \"KeyW\":\n      case \"KeyA\":\n      case \"KeyS\":\n      case \"KeyD\":\n      case \"Space\":\n        Action.handlePlayerEvent(this.player, event.code, false);\n        break;\n    }\n  }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/keyboard.ts"
    },
    "game/player/selector": {
      "path": "game/player/selector",
      "id": "game/player/selector",
      "file": "game/player/selector.ts",
      "absPath": "/game/player/selector",
      "__content": "import * as THREE from \"three\";\nimport { World } from \"../world/World\";\nimport { PlayerParams, RayCenterScreen } from \"./literal\";\nimport { getNearChunks } from \"./utils\";\nimport { Layers } from \"../engine\";\nimport { Action } from \"./action\";\nimport { RenderGeometry } from \"../Block/base/Block\";\nimport { ToolBar } from \"../gui\";\nimport { BlockID } from \"../Block\";\n\n/**@desc / */\nexport class Selector {\n    private static _rayCaster: THREE.Raycaster | null = null;\n    /**@desc   */\n    private static _vSyncCount = 2;\n    private static _updateCount = 0;\n    /**\n     * Updates the raycaster used for block selection\n     */\n    static selectedBlockUuid: string | null = null;\n    static get rayCaster() {\n        if(!Selector._rayCaster) {\n            Selector._rayCaster = new THREE.Raycaster(\n                new THREE.Vector3(),\n                new THREE.Vector3(),\n                0,\n                5\n            );\n            this.rayCaster.layers.set(Layers.Zero);\n        }\n        return Selector._rayCaster;\n    }\n\n    static update(camera: THREE.PerspectiveCamera, world: World, selectionHelper: THREE.Mesh) {\n        Selector._updateCount++;\n        if(Selector._updateCount === Selector._vSyncCount) {\n            Selector.select(camera, world, selectionHelper);\n            Selector._updateCount = 0;\n        }\n    }\n\n    static select(camera: THREE.PerspectiveCamera, world: World, selectionHelper: THREE.Mesh) {\n        const rayCaster = Selector.rayCaster;\n        rayCaster.setFromCamera(RayCenterScreen, camera);\n        \n        //  player  chunk or  4  chunk\n        const chunks = getNearChunks(world);\n        // TODO   layer \n        const intersection = rayCaster.intersectObjects(chunks, true)[0];\n        if (intersection) {\n            Selector.selectedBlockUuid = intersection.object.uuid;\n            \n            // Get the chunk associated with the seclected block\n            // TODO  chunk  InstancedMesh  \n            const chunk = intersection.object.parent;\n            if (intersection.instanceId == null || !chunk) return Selector.unSelect(selectionHelper);\n\n            // Update the selected coordinates\n            Selector.updateSelectCoord(intersection, chunk);\n            // Update the block placement coordinates\n            Selector.updateBlockPlacementCoords(intersection);\n            // Update the selection helper\n            Selector.updateSelectionHelper(intersection, selectionHelper);\n        } else {\n            Selector.unSelect(selectionHelper);\n        }\n    }\n\n    static unSelect(selectionHelper: THREE.Mesh) {\n        //  null\n        PlayerParams.selectedCoords = null;\n        //  null\n        // PlayerParams.selectedBlockSize = null;\n        selectionHelper.visible = false;\n    }\n\n    static _tempBlockMatrix = new THREE.Matrix4();\n    static updateSelectCoord(intersection: THREE.Intersection, chunk: THREE.Object3D) {\n        if (intersection.instanceId == null) return;\n\n        // TODO  InstancedMesh \n        // Get the transformation matrix for the selected block\n        (intersection.object as THREE.InstancedMesh).getMatrixAt(\n            intersection.instanceId,\n            Selector._tempBlockMatrix\n        );\n\n        // Undo rotation from block matrix\n        const rotationMatrix = new THREE.Matrix4().extractRotation(Selector._tempBlockMatrix);\n        const inverseRotationMatrix = rotationMatrix.invert();\n        Selector._tempBlockMatrix.multiply(inverseRotationMatrix);\n\n        // Set the selected coordinates to origin of chunk\n        // Then apply transformation matrix of block to get block coords\n        PlayerParams.selectedCoords = chunk.position.clone();\n        PlayerParams.selectedCoords.applyMatrix4(Selector._tempBlockMatrix);\n\n        // Get the bounding box of the selected block\n        // const boundingBox = new THREE.Box3().setFromObject(intersection.object);\n        // PlayerParams.selectedBlockSize = boundingBox.getSize(new THREE.Vector3());\n    }\n\n    /**\n     * @desc \n     */\n    static updateBlockPlacementCoords(intersection: THREE.Intersection) {\n        //     \n        if (!PlayerParams.selectedCoords || !intersection.normal) return;\n        // TODO \n        // TODO flower   \n        if (ToolBar.activeBlockId !== BlockID.Air) {\n            // Update block placement coords to be 1 block over in the direction of the normal\n            Action.blockPlacementCoords = PlayerParams.selectedCoords\n            .clone()\n            .add(intersection.normal);\n        }\n    }\n\n    static updateSelectionHelper(intersection: THREE.Intersection, selectionHelper: THREE.Mesh) {\n        if (!PlayerParams.selectedCoords) return;\n        if(intersection.object.userData.renderGeometry === RenderGeometry.Flower) {\n            selectionHelper.scale.set(0.3, 0.6, 0.3);\n        } else {\n            selectionHelper.scale.set(1, 1, 1);\n        } \n        // TODO TallGrass \n        selectionHelper.position.copy(PlayerParams.selectedCoords);\n        selectionHelper.visible = true;\n    }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/selector.ts"
    },
    "game/world/DataStore": {
      "path": "game/world/DataStore",
      "id": "game/world/DataStore",
      "file": "game/world/DataStore.ts",
      "absPath": "/game/world/DataStore",
      "__content": "import { BlockID } from \"../Block\";\n\nexport class DataStore {\n  data: Record<string, BlockID>;\n\n  constructor() {\n    this.data = {};\n  }\n\n  clear() {\n    this.data = {};\n  }\n\n  contains(\n    chunkX: number,\n    chunkZ: number,\n    blockX: number,\n    blockY: number,\n    blockZ: number\n  ) {\n    const key = this.#getKey(chunkX, chunkZ, blockX, blockY, blockZ);\n    return this.data[key] !== undefined;\n  }\n\n  get(\n    chunkX: number,\n    chunkZ: number,\n    blockX: number,\n    blockY: number,\n    blockZ: number\n  ) {\n    const key = this.#getKey(chunkX, chunkZ, blockX, blockY, blockZ);\n    const blockId = this.data[key];\n    // console.log(`getting value ${blockId} at key ${key}`);\n    return blockId;\n  }\n\n  set(\n    chunkX: number,\n    chunkZ: number,\n    blockX: number,\n    blockY: number,\n    blockZ: number,\n    value: BlockID\n  ) {\n    const key = this.#getKey(chunkX, chunkZ, blockX, blockY, blockZ);\n    // console.log(`setting value ${value} at key ${key}`);\n    this.data[key] = value;\n  }\n\n  #getKey(\n    chunkX: number,\n    chunkZ: number,\n    blockX: number,\n    blockY: number,\n    blockZ: number\n  ) {\n    return `${chunkX},${chunkZ},${blockX},${blockY},${blockZ}`;\n  }\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/DataStore.ts"
    },
    "game/world/drop/drop": {
      "path": "game/world/drop/drop",
      "id": "game/world/drop/drop",
      "file": "game/world/drop/drop.ts",
      "absPath": "/game/world/drop/drop",
      "__content": "import * as THREE from \"three\";\nimport { BlockID, blockIDValues } from \"../../Block\";\nimport { BlockFactory } from \"../../Block/base/BlockFactory\";\nimport { IDrop } from \"./interface\";\nimport { WorldChunk } from \"../WorldChunk\";\nimport { jitterNumber } from \"../../utils\";\nimport { DropDt, DropLimit, MaxCount } from \"./literal\";\nimport { Layers } from \"../../engine\";\nimport { ToolBar } from \"../../gui\";\nimport { getDropInstancedGeometry } from \"../../engine/geometry\";\n\n/**@desc  Group */\nexport class DropGroup extends THREE.Group {\n    private meshes: Partial<Record<BlockID, THREE.InstancedMesh>> = {};\n    private chunkPosition: THREE.Vector3;\n    private chunk: WorldChunk;\n    private dropList: IDrop[] = [];\n    private dropMatrix = new THREE.Matrix4;\n    \n    constructor(chunkPosition: THREE.Vector3, chunk: WorldChunk) {\n       super();\n       this.chunkPosition = chunkPosition;\n       this.chunk = chunk;\n       this.initInstanceMesh();\n    }\n\n    /** @desc  InstancedMesh */\n    private initInstanceMesh() {\n        const meshes = this.meshes\n        blockIDValues.forEach((blockId) => {\n            const block = BlockFactory.getBlock(blockId);\n            const blockGeometry = block.geometry;\n            const dropGeometry = getDropInstancedGeometry(blockGeometry) as THREE.BoxGeometry | THREE.PlaneGeometry;\n            const mesh = new THREE.InstancedMesh(dropGeometry, block.material, MaxCount);\n            mesh.name = block.constructor.name;\n            mesh.count = 0;\n            mesh.layers.set(Layers.One);\n            mesh.userData.type = 'drop';\n            mesh.userData.blockId = blockId;\n            mesh.userData.instanceCache = {};\n            // \n            mesh.visible = false;\n            // mesh.castShadow = !block.canPassThrough;\n            // \n            mesh.castShadow = false;\n            mesh.receiveShadow = false;\n            mesh.matrixAutoUpdate = false;\n            meshes[block.id] = mesh;\n            this.add(mesh);\n        });\n    }\n\n    drop(blockType: BlockID, x: number, y: number, z: number) {\n        const mesh = this.meshes[blockType];\n        if (!mesh) return;\n        // TODO  &  &  &   \n        this.addInstance(mesh, x, y, z);\n        this.updateDropState(x, z);\n    }\n\n    /**\n     * @desc \n     * @param origin \n     */\n    attract(origin: THREE.Vector3) {\n        const availableMeshes = this.getAvailableMeshes();\n        if (availableMeshes.length === 0) return;\n         //  + \n        const tempMatrix = new THREE.Matrix4(); // \n        const instancePos = new THREE.Vector3(); // \n\n        // \n        const maxDistance = 1.8;\n        // TODO \n        availableMeshes.forEach((mesh) => {\n            //  InstancedMesh  ID\n            const toDeleteIds = [];\n            //  <2  ID\n            for (let instanceId = 0; instanceId < mesh.count; instanceId++) {\n                mesh.getMatrixAt(instanceId, tempMatrix);\n                instancePos.setFromMatrixPosition(tempMatrix);\n                instancePos.add(this.chunkPosition);\n                const distanceSq = instancePos.distanceTo(origin);\n                \n                if (distanceSq < maxDistance) {\n                    toDeleteIds.push(instanceId);\n                }\n            }\n            if(toDeleteIds.length > 0) {\n                //  maxDistance \n                this.deleteInstance(mesh, toDeleteIds, tempMatrix);\n                ToolBar.pushBlockId(mesh.userData.blockId);\n            }\n        });\n    }\n\n    /**@desc  physics   */\n    update() {\n        this.dropList.forEach((drop) => {\n            const { state, mesh, instanceId, x, y, z } = drop;\n            if (state === 'float' || state === 'stable') return;\n            \n            // TODO    \n            mesh.getMatrixAt(instanceId, this.dropMatrix);\n            const posX = this.dropMatrix.elements[12];\n            const posY = this.dropMatrix.elements[13];\n            const posZ = this.dropMatrix.elements[14];\n\n            const isOverFloatHeight = posY % 1 >= DropLimit;\n            if (isOverFloatHeight || state === 'fall_cross') {\n                //  block  +  dt\n                const nextY = posY - DropDt;\n                drop.y = nextY;\n                if(isOverFloatHeight) {\n                    drop.state = 'fall';\n                }\n                this.dropMatrix.setPosition(posX, nextY, posZ);\n                mesh.setMatrixAt(instanceId, this.dropMatrix)\n                mesh.instanceMatrix.needsUpdate = true;\n                return;\n            }\n            //  block   block \n            const blockX = Math.floor(x);\n            const underBlockY = Math.floor(y) - 1;\n            const blockZ = Math.floor(z);\n            const underBlockData = this.chunk.getBlock(blockX, underBlockY, blockZ);\n            if (!underBlockData) {\n                // ERROR  block \n                console.warn(' block ');\n                drop.state = 'stable';\n                return;\n            }\n            // console.log('underBlockData', underBlockData);\n            const blockClass = BlockFactory.getBlock(underBlockData.block);\n            //  block\n            if (blockClass.canPassThrough) {\n                const nextY = posY - DropDt;\n                this.dropMatrix.setPosition(posX, nextY, posZ);\n                drop.y = nextY;\n                drop.state = 'fall_cross';\n                mesh.setMatrixAt(instanceId, this.dropMatrix)\n                mesh.instanceMatrix.needsUpdate = true;\n            } else {\n                //  block   drop  float \n                drop.state = 'float';\n                mesh.computeBoundingSphere();\n            }           \n        })\n    }\n\n    /**@desc  chunk  drop  InstancedMesh */\n    private getAvailableMeshes() {\n        const availableMeshes: THREE.InstancedMesh[] = [];\n        blockIDValues.map((key) => {\n            const mesh = this.meshes[key];\n            if(mesh && mesh.count > 0) {\n                availableMeshes.push(mesh);\n            }\n        })\n        return availableMeshes;\n    }\n\n    /**\n     * @desc  drop \n     *  drop instance  THREE.Object\n     */\n    private addInstance(mesh: THREE.InstancedMesh, x: number, y: number, z: number) {\n        //  drop \n        const dropX = jitterNumber(x + 0.5, 0.1);\n        const dropY = jitterNumber(y + 0.5, 0.05);\n        const dropZ = jitterNumber(z + 0.5, 0.1);\n        const instanceId = mesh.count++;\n        const matrix = new THREE.Matrix4();\n        matrix.setPosition(dropX, dropY, dropZ);\n        mesh.setMatrixAt(instanceId, matrix);\n        mesh.instanceMatrix.needsUpdate = true;\n        //  instance \n        mesh.visible = true\n        //  or \n        // Tip  \n        // mesh.computeBoundingSphere();\n        const drop: IDrop = {\n            // drop instance  uuid\n            uuid: THREE.MathUtils.generateUUID(),\n            state: 'init',\n            mesh,\n            instanceId,\n            needUpdate: true,\n            // block xyz\n            x, y, z,\n        };\n        this.dropList.push(drop);\n        mesh.userData.instanceCache[drop.uuid] = drop;\n        // console.log('add drop instance', drop.uuid);\n    }\n\n    /**@desc  InstanceMesh  drop  */\n    private deleteInstance(mesh: THREE.InstancedMesh, toDeleteIds: number[], tempMatrix: THREE.Matrix4) {\n        // console.log('****** deleteInstance ******')\n        // console.log('toDeleteIds', toDeleteIds);\n        // console.log('instanceCache', this.instanceCache);\n        // console.log('dropList.length', this.dropList.length)\n        // ID\n        for (const instanceId of toDeleteIds) {\n            // IDcount\n            // console.log('instanceId', instanceId, mesh.count, mesh.count - 1);\n            // if (instanceId >= mesh.count) continue;\n            const lastInstanceId = mesh.count - 1;\n\n            let currentInstanceUUID = 'none';\n            let lastInstanceUUID = 'none';\n            const instanceCache = mesh.userData.instanceCache;\n            Object.keys(instanceCache).forEach((uuid) => {\n                // console.log('uuid', uuid, instanceCache[uuid].instanceId);\n                if(instanceCache[uuid].instanceId === instanceId) {\n                    currentInstanceUUID = uuid;\n                }\n                if(instanceCache[uuid].instanceId === lastInstanceId) {\n                    lastInstanceUUID = uuid;\n                }\n            })\n            instanceCache[lastInstanceUUID].instanceId = instanceId;\n            delete instanceCache[currentInstanceUUID];\n            this.deleteDrop(currentInstanceUUID);\n            // ID\n            if (instanceId !== lastInstanceId) {\n                // \n                mesh.getMatrixAt(lastInstanceId, tempMatrix);\n                mesh.setMatrixAt(instanceId, tempMatrix);\n                mesh.count--;\n            } else {\n                // \n                mesh.count--;\n            }\n        }\n        // toDeleteIds \n        mesh.instanceMatrix.needsUpdate = true;\n        mesh.computeBoundingSphere();\n        if(mesh.count === 0) {\n            //  instance  mesh \n            mesh.visible = false;\n        }\n    }\n\n    /**@desc  xz block  drop  */\n    private updateDropState(x: number, z: number) {\n        // console.log('updateDropState', this.dropList, x, z);\n        this.dropList.forEach(drop => {\n            if(x === Math.floor(drop.x) && z === Math.floor(drop.z)) {\n                //  drop \n                drop.state = 'init';\n            }\n        });\n    }\n\n    /**@desc  instance   dropList */\n    private deleteDrop(uuid: string) {\n        this.dropList = this.dropList.filter((d => {\n            return d.uuid !== uuid\n        }));\n    }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/drop/drop.ts"
    },
    "game/world/interface": {
      "path": "game/world/interface",
      "id": "game/world/interface",
      "file": "game/world/interface.ts",
      "absPath": "/game/world/interface",
      "__content": "import { BlockID } from \"../Block\";\n\nexport type WorldType = 'flat' | 'terrain';\n\n// \n/**\n * level: {\n *  offset: number; // \n *  magnitude: number; // simplex noise  simplex(x, z) * magnitude\n * }\n */\n\ninterface ITrees {\n  frequency: number;\n  trunkHeight: {\n    min: number;\n    max: number;\n  };\n  // \n  canopy: {\n    size: {\n      min: number;\n      max: number;\n    };\n  };\n}\n\ninterface ITerrain {\n  scale: number;\n  magnitude: number; // \n  offset: number;\n}\n\ninterface ITallGrass {\n  frequency: number;\n  patchSize: number;\n}\n\nexport interface IWorldParams {\n  seed: number;\n  terrain: ITerrain;\n  surface: { // \n    offset: number; \n    magnitude: number;\n  };\n  // \n  bedrock: {\n    offset: number;\n    magnitude: number;\n  };\n  trees: ITrees | null;\n  tallGrass: ITallGrass | null;\n  flowers: {\n    frequency: number;\n  };\n}\n\n// chunk \nexport interface IInstanceData {\n  block: BlockID;\n  //  instance   flower  instance plane \n  instanceIds: number[]; // reference to mesh instanceId\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/interface.ts"
    },
    "game/Block/constant": {
      "path": "game/Block/constant",
      "id": "game/Block/constant",
      "file": "game/Block/constant.ts",
      "absPath": "/game/Block/constant",
      "__content": "/**@desc ID  ID */\nexport enum BlockID {\n  Air = 0,\n  Grass = 1,\n  Dirt = 2,\n  Stone = 3,\n  CoalOre = 4,\n  IronOre = 5,\n  Bedrock = 6,\n  OakLog = 7,\n  Leaves = 8,\n  TallGrass = 9,\n  FlowerRose = 10,\n  FlowerDandelion = 11,\n  RedstoneLamp = 12,\n  StoneBrick = 13,\n}\n\nexport const blockIDValues = Object.values(BlockID).filter(\n      (value) => typeof value === \"number\"\n    ) as BlockID[];\n\nexport const blockIdToKey = {\n  [BlockID.Air]: \"air\",\n  [BlockID.Grass]: \"grass\", // \n  [BlockID.TallGrass]: \"tall_grass\", // \n  [BlockID.Dirt]: \"dirt\",\n  [BlockID.Stone]: \"stone\",\n  [BlockID.CoalOre]: \"coal\",\n  [BlockID.IronOre]: \"iron\",\n  [BlockID.Bedrock]: \"bedrock\", //  \n  [BlockID.OakLog]: \"oak_log\",\n  [BlockID.Leaves]: \"leaves\",\n  [BlockID.FlowerRose]: \"flower_rose\",\n  [BlockID.FlowerDandelion]: \"flower_dandelion\",\n  [BlockID.RedstoneLamp]: \"redstone_lamp\",\n  [BlockID.StoneBrick]: \"stone_brick\",\n};\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/constant.ts"
    },
    "game/Block/textures": {
      "path": "game/Block/textures",
      "id": "game/Block/textures",
      "file": "game/Block/textures.ts",
      "absPath": "/game/Block/textures",
      "__content": "import { loadTexture } from \"../engine/utils\";\nimport GrassSide from '@/assets/textures/grass_side.png';\nimport GrassTop from '@/assets/textures/grass.png';\nimport Dirt from '@/assets/textures/dirt.png';\nimport Stone from '@/assets/textures/stone.png';\nimport CoalOre from '@/assets/textures/coal_ore.png';\nimport IronOre from '@/assets/textures/iron_ore.png';\nimport BedRock from '@/assets/textures/bedrock.png';\n\nimport OakLogSide from '@/assets/textures/oak_log_side.png';\nimport OakLogTop from '@/assets/textures/oak_log_top.png';\nimport Leaves from '@/assets/textures/leaves.png';\nimport TallGrass from '@/assets/textures/tall_grass.png';\nimport FlowerRose from '@/assets/textures/flower_rose.png';\nimport FlowerDandelion from '@/assets/textures/flower_dandelion.png';\n\nimport RedStoneLamp from '@/assets/textures/redstone_lamp.png';\nimport StoneBrick from '@/assets/textures/stonebrick.png';\n\n/**@desc for block texture */\nexport const textures = {\n  grassSide: loadTexture(GrassSide),\n  grassTop: loadTexture(GrassTop),\n  dirt: loadTexture(Dirt),\n  stone: loadTexture(Stone),\n  coal: loadTexture(CoalOre),\n  iron: loadTexture(IronOre),\n  bedrock: loadTexture(BedRock),\n  oakLogSide: loadTexture(OakLogSide),\n  oakLogTop: loadTexture(OakLogTop),\n  leaves: loadTexture(Leaves),\n  tallGrass: loadTexture(TallGrass),\n  flowerRose: loadTexture(FlowerRose),\n  flowerDandelion: loadTexture(FlowerDandelion),\n  redstoneLamp: loadTexture(RedStoneLamp),\n  stoneBrick: loadTexture(StoneBrick),\n};\n\nimport GrassBlock from '@/assets/textures/grass_block.png';\nimport DirtBlock from '@/assets/textures/dirt_block.png';\nimport StoneBlock from '@/assets/textures/stone_block.png';\nimport CoalOreBlock from '@/assets/textures/coal_block.png';\nimport IronOreBlock from '@/assets/textures/iron_block.png';\nimport BedRockBlock from '@/assets/textures/bedrock_block.png';\nimport OakLogBlock from '@/assets/textures/oak_log_block.png';\n\nimport LeavesBlock from '@/assets/textures/leaves_block.png';\nimport TallGrassBlock from '@/assets/textures/tall_grass_block.png';\nimport FlowerRoseBlock from '@/assets/textures/flower_rose.png';\nimport FlowerDandelionBlock from '@/assets/textures/flower_dandelion.png';\n\nimport RedStoneLampBlock from '@/assets/textures/redstone_lamp_block.png';\nimport StoneBrickBlock from '@/assets/textures/stonebrick_block.png';\n/**@desc for ui */\nexport const uiTextures = {\n  grass: GrassBlock,\n  dirt: DirtBlock,\n  stone: StoneBlock,\n  coal: CoalOreBlock,\n  iron: IronOreBlock,\n  bedrock: BedRockBlock,\n  oakLog: OakLogBlock,\n  leaves: LeavesBlock,\n  tallGrass: TallGrassBlock,\n  flowerRose: FlowerRoseBlock,\n  flowerDandelion: FlowerDandelionBlock,\n  redstoneLamp: RedStoneLampBlock,\n  stoneBrick: StoneBrickBlock,\n};\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/textures.ts"
    },
    "game/helper/physics": {
      "path": "game/helper/physics",
      "id": "game/helper/physics",
      "file": "game/helper/physics.ts",
      "absPath": "/game/helper/physics",
      "__content": "import * as THREE from \"three\";\nimport { collisionHelperMaterial } from \"../engine/material\";\nimport { Candidate } from \"../physics/interface\";\n\nexport class PhysicsHelper extends THREE.Group {\n  constructor() {\n    super();\n  }\n\n  // visualizes the block the player is colliding with\n  addBlockCollisionHelper(candidate: Candidate) {\n    const blockMesh = initBlockCollisionMesh(candidate);\n    this.add(blockMesh);\n  }\n\n  /**\n   * Visualizes the contact at the point 'p'\n   */\n  addContactPointerHelper(p: number[]) {\n    const contactMesh = initContactPointerMesh(p);\n    this.add(contactMesh);\n  }\n}\n\n//  player  helper\nconst collisionGeometry = new THREE.BoxGeometry(1.001, 1.001, 1.001);\nfunction  initBlockCollisionMesh(candidate: Candidate) {\n    const blockMesh = new THREE.Mesh(collisionGeometry, collisionHelperMaterial);\n    blockMesh.position.copy(\n      new THREE.Vector3(candidate.x, candidate.y, candidate.z)\n    );\n    return blockMesh;\n}\n\nconst contactMaterial = new THREE.MeshBasicMaterial({\n  wireframe: true,\n  color: 0x00ff00,\n});\nconst contactGeometry = new THREE.SphereGeometry(0.05, 6, 6);\nlet contactMesh: THREE.Mesh | null = null;\n/**\n * @desc  'p'\n * Visualizes the contact at the point 'p'\n */\nfunction initContactPointerMesh(p: number[]) {\n  if (!contactMesh) {\n    contactMesh = new THREE.Mesh(contactGeometry, contactMaterial);\n  }\n  contactMesh.position.copy(new THREE.Vector3(p[0], p[1], p[2]));\n  return contactMesh;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/helper/physics.ts"
    },
    "game/physics/player": {
      "path": "game/physics/player",
      "id": "game/physics/player",
      "file": "game/physics/player.ts",
      "absPath": "/game/physics/player",
      "__content": "import * as THREE from \"three\";\nimport { Player } from \"../player/Player\";\nimport { World } from \"../world/World\";\nimport { BlockID } from \"../Block\";\nimport { PhysicsParams } from \"./literal\";\nimport { PlayerParams } from \"../player/literal\";\nimport { PhysicsHelper } from \"../helper\";\nimport { getBlockUnderneath } from \"../player/utils\";\nimport { Candidate, Collision } from \"./interface\";\nimport { BlockFactory } from \"../Block/base/BlockFactory\";\n\n/**@desc  */\nexport class PlayerPhysics {\n    player: Player;\n    world: World;\n    private helpers?: PhysicsHelper;\n    private cachePosition = new THREE.Vector3();\n    constructor(player: Player, helpers: PhysicsHelper | null) {\n        this.player = player;\n        this.world = player.world;\n        this.cachePosition.copy(this.player.position);\n        helpers && (this.helpers = helpers);\n    }\n\n    update() {\n        const { player, world } = this;\n        const { x: o_x, y: o_y, z: o_z } = this.cachePosition;\n        // \n        const blockUnderneath = getBlockUnderneath(player, world)?.block || BlockID.Air;\n        // \n        player.velocity.y += PhysicsParams.GRAVITY * PhysicsParams.stepSize;\n        // : \n        player.applyInputs(PhysicsParams.stepSize, blockUnderneath);\n        // \n        this.detectCollisions(player, world);\n\n        player.update(world);\n\n        // player \n        const { x, y, z } = this.player.position;\n        const positionUpdate = x !== o_x || y !== o_y || z !== o_z;\n        if (positionUpdate) {\n            this.cachePosition.copy(player.position);\n            this.player.updatePosition();\n        }\n    }\n\n    /**\n     * @desc \n     * @param player \n     * @param world \n     */\n    private detectCollisions(player: Player, world: World) {\n        //  \n        player.onGround = false;\n\n        const candidates = this.broadPhase(player, world);\n        const collisions = this.narrowPhase(candidates, player);\n\n        if (collisions.length > 0) {\n            this.resolveCollisions(collisions, player);\n        }\n    }\n\n    /**\n     * @desc  \n     * @param player \n     * @param world \n     * @returns \n     */\n    private broadPhase(player: Player, world: World): Candidate[] {\n        const { position } = player;\n        const { radius, height } = PlayerParams;\n        const candidates: Candidate[] = [];\n\n        // Get the block extents of the player\n        // \n        const minX = Math.floor(position.x - radius);\n        const maxX = Math.ceil(position.x + radius);\n        const minY = Math.floor(position.y - height);\n        const maxY = Math.ceil(position.y);\n        const minZ = Math.floor(position.z - radius);\n        const maxZ = Math.ceil(position.z + radius);\n\n        // Iterate over the player's AABB\n        for (let x = minX; x <= maxX; x++) {\n            for (let y = minY; y <= maxY; y++) {\n                for (let z = minZ; z <= maxZ; z++) {\n                    const blockData = world.getBlock(x, y, z);\n                    if (!blockData) continue;\n                    // If the block is solid, add it to the list of candidates\n                    const blockClass = BlockFactory.getBlock(blockData.block);\n                    if (!blockClass || blockClass.canPassThrough) continue;\n                    const aroundBlock = {\n                        block: blockData.block,\n                        x: x + 0.5,\n                        y: y + 0.5,\n                        z: z + 0.5,\n                    };\n                    candidates.push(aroundBlock);\n                    this.helpers?.addBlockCollisionHelper(aroundBlock);\n                }\n            }\n        }\n        return candidates;\n    }\n\n    /**\n     * @desc   player \n     * @param candidates \n     * @param player \n     * @returns \n     */\n    private narrowPhase(candidates: Candidate[], player: Player): Collision[] {\n        const { position } = player;\n        const { halfHeight, radius } = PlayerParams;\n        // \n        const playerCenter = position.y - halfHeight;\n        const collisions: Collision[] = [];\n        for (const candidate of candidates) {\n            // Get the point of the block closest to the center of the player's bounding cylinder\n            //  player  block  player  point\n            const closestPointX = Math.max(candidate.x - 0.5, Math.min(position.x, candidate.x + 0.5));\n            const closestPointY = Math.max(candidate.y - 0.5, Math.min(playerCenter, candidate.y + 0.5));\n            const closestPointZ = Math.max(candidate.z - 0.5, Math.min(position.z, candidate.z + 0.5));\n            const closePoint = [closestPointX, closestPointY, closestPointZ];\n\n            //  player  point \n            if (!this.pointInPlayerBoundingCylinder(closePoint, player)) continue;\n            // Get distance along each exist between closest point and center\n            // \n            const dx = closestPointX - position.x;\n            const dy = closestPointY - playerCenter;\n            const dz = closestPointZ - position.z;\n            /**\n             * :    or \n             *   \n             */\n            const overlapY = halfHeight - Math.abs(dy);\n            const overlapXZ = radius - Math.sqrt(dx * dx + dz * dz);\n            if (overlapY <= 0 && overlapXZ <= 0) continue; // \n            // Compute the normal of the collision (pointing away from content point)\n            // As well as overlap between the point and the player's bounding cylinder\n            let normal: THREE.Vector3; // \n            let overlap: number;\n            if (overlapY < overlapXZ) {\n                normal = new THREE.Vector3(0, -Math.sign(dy), 0);\n                overlap = overlapY;\n                player.onGround = true;\n            } else {\n                normal = new THREE.Vector3(-dx, 0, -dz).normalize();\n                overlap = overlapXZ;\n            }\n            collisions.push({\n                candidate,\n                contactPoint: closePoint, // \n                normal, // \n                overlap, // \n            });\n            this.helpers?.addContactPointerHelper(closePoint);\n        }\n        return collisions;\n    }\n\n    /**\n     * Check if contact point is inside the player's bounding cylinder\n     * @param p \n     * @param player \n     * @returns \n     */\n    private pointInPlayerBoundingCylinder(p: number[], player: Player) {\n        const { radius, halfHeight } = PlayerParams;\n        const { x, y, z } = player.position;\n        const dx = p[0] - x;\n        const dy = p[1] - (y - halfHeight);\n        const dz = p[2] - z;\n        const r_sq = dx * dx + dz * dz;\n        return Math.abs(dy) < halfHeight && r_sq < radius * radius;\n    }\n\n    private resolveCollisions(collisions: Collision[], player: Player) {\n        // Resolve collisions in order of smallest overlap to largest\n        //  \n        collisions.sort((a, b) => a.overlap - b.overlap);\n\n        for (const collision of collisions) {\n            // re-check if contact player is inside the player's bounding cylinder\n            // since the player position is updated after each collision is resolved\n            if (!this.pointInPlayerBoundingCylinder(collision.contactPoint, player)) {\n                continue;\n            }\n\n            // Adjust position of player so that block and player are no longer overlapping\n            const deltaPosition = collision.normal.clone();\n            deltaPosition.multiplyScalar(collision.overlap);\n\n            // Don't apply vertical change if player is not on ground\n            if (!player.onGround && deltaPosition.y !== 0) {\n                deltaPosition.y = 0;\n            }\n\n            //  \n            player.position.add(deltaPosition);\n\n            // If player is stuck underneath a block, boost him up\n            if (collision.normal.y < 0) {\n                player.velocity.y += 10;\n            }\n\n            // Get the magnitude of player's velocity along collision normal\n            const magnitude = player.worldVelocity.dot(collision.normal);\n            // remove that part of velocity from the player's velocity\n            const velocityAdj = collision.normal.clone().multiplyScalar(magnitude);\n            //  \n            player.applyWorldDeltaVelocity(velocityAdj.negate());\n        }\n    }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/physics/player.ts"
    },
    "game/player/literal": {
      "path": "game/player/literal",
      "id": "game/player/literal",
      "file": "game/player/literal.ts",
      "absPath": "/game/player/literal",
      "__content": "import * as THREE from \"three\";\nimport { IChunkKey, ICurrentChunk, INearFourChunks, ISelectedCoords } from \"./interface\";\nimport { Player } from \"./Player\";\n\nexport const PlayerInitPosition = new THREE.Vector3(32, 72, 32);\nexport class PlayerParams {\n    /**@desc  */\n    static playerInstance: Player | null = null;\n    /**@desc   PlayerInitPosition */\n    static position = new THREE.Vector3().copy(PlayerInitPosition);\n    /**@desc  */\n    static height = 1.75;\n    /**@desc  */\n    static halfHeight = 1.75 / 2;\n    /**@desc  0.25  */\n    static radius = 0.25;\n    /**@desc  */\n    static maxSpeed = 4.317;\n    /**@desc  */\n    static maxSprintSpeed = 5.612;\n    /**@desc  */\n    static jumpSpeed = 10;\n    /**@desc   */\n    static selectedCoords: ISelectedCoords = null;\n    /**@desc  chunk  */\n    static isInChunkCenter = false;\n    /**@desc  chunkID */\n    static currentChunk: ICurrentChunk = null;\n    /**@desc  4  chunkID */\n    static nearFourChunks: INearFourChunks = [];\n    /**@desc  chunkID  1 or 4 */\n    static activeChunks: IChunkKey[] = [];\n}\n\n//  \nexport const RayCenterScreen = new THREE.Vector2(0, 0);",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/literal.ts"
    },
    "components/loading": {
      "path": "components/loading",
      "id": "components/loading",
      "file": "components/loading.tsx",
      "absPath": "/components/loading",
      "__content": "export const Loading = () => {\n    return <div id=\"loading\">\n          <p>Loading Level</p>\n          <p>Generating terrain</p>\n          <div id=\"loading-progress\">\n            <div id=\"loading-progress-bar\"></div>\n          </div>\n        </div>\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/components/loading.tsx"
    },
    "game/engine/layers": {
      "path": "game/engine/layers",
      "id": "game/engine/layers",
      "file": "game/engine/layers.ts",
      "absPath": "/game/engine/layers",
      "__content": "export enum Layers {\n    /**@desc  */\n    Zero = 0,\n    /**@desc  */\n    One = 1,\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/layers.ts"
    },
    "game/physics/index": {
      "path": "game/physics",
      "id": "game/physics/index",
      "file": "game/physics/index.ts",
      "absPath": "/game/physics",
      "__content": "import * as THREE from \"three\";\nimport { Player } from \"../player/Player\";\nimport { PhysicsHelper } from \"../helper\";\nimport { PhysicsParams } from \"./literal\";\nimport { DevControl } from \"../dev\";\nimport { PlayerPhysics } from \"./player\";\nimport { DropPhysics } from \"./drop\";\nimport { World } from \"../world/World\";\n\nexport class Physics {\n  /**@desc  */\n  playerPhysics: PlayerPhysics;\n  /**@desc  */\n  dropPhysics: DropPhysics;\n  /**@desc  */\n  helpers: PhysicsHelper | null = null;\n  world: World;\n  constructor(scene: THREE.Scene, player: Player, world: World) {\n    if (DevControl.physicsHelperVisible) {\n      this.helpers = new PhysicsHelper();\n      this.helpers.visible = true;\n      scene.add(this.helpers);\n    }\n    this.world = world;\n    this.playerPhysics = new PlayerPhysics(player, this.helpers);\n    this.dropPhysics = new DropPhysics(world);\n  }\n\n  /**@desc physics  player  */\n  update(dt: number) {\n    if (!PhysicsParams.enabled) return;\n    PhysicsParams.accumulator += dt;\n    while (PhysicsParams.accumulator >= PhysicsParams.stepSize) {\n      // TODO  \n      PhysicsParams.accumulator -= PhysicsParams.stepSize;\n      // \n      this.helpers?.clear();\n      // \n      this.playerPhysics.update();\n      // \n      // TODO \n      this.dropPhysics.update();\n    }\n  }\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/physics/index.ts"
    },
    "game/player/Player": {
      "path": "game/player/Player",
      "id": "game/player/Player",
      "file": "game/player/Player.ts",
      "absPath": "/game/player/Player",
      "__content": "\nimport * as THREE from \"three\";\nimport audioManager from \"../audio/AudioManager\";\nimport { BlockID } from \"../Block\";\nimport { World } from \"../world/World\";\nimport { updatePositionGUI } from \"../gui\";\nimport { PlayerInitPosition, PlayerParams } from \"./literal\";\nimport { KeyboardInput } from \"./keyboard\";\nimport { MouseInput } from \"./mouse\";\nimport { initBoundsHelper, selectionHelper, updateBoundsHelper } from \"../helper\";\nimport { Action } from \"./action\";\nimport { playerToChunkCoords, worldToCeilBlockCoord } from \"../world/chunk/utils\";\nimport { updateWorldBlockCoordGUI } from \"../dev\";\nimport { updatePlayerNear } from \"../helper/chunkHelper\";\nimport { updateCameraFOV } from \"./camera\";\nimport { Selector } from \"./selector\";\nimport { PlayerGroup } from \"./group\";\n\nexport class Player extends PlayerGroup {\n  onGround = false;\n  input = new THREE.Vector3();\n  /**@desc  */ \n  isSprinting = false;\n  lastStepSoundPlayed = 0;\n  world: World;\n  keyboardInput = new KeyboardInput(this);\n  boundsHelper: THREE.Mesh;\n  velocity = new THREE.Vector3();\n  private _worldVelocity = new THREE.Vector3();\n\n  /*\n   * Returns the velocity of the player in world coordinates\n   */\n  get worldVelocity() {\n    this._worldVelocity.copy(this.velocity);\n    this._worldVelocity.applyEuler(\n      new THREE.Euler(0, this.camera.rotation.y, 0)\n    );\n    return this._worldVelocity;\n  }\n\n  constructor(scene: THREE.Scene, world: World) {\n    super(scene);\n    this.world = world;\n    // for dev test\n    this.boundsHelper = initBoundsHelper();\n    this.boundsHelper.visible = false;\n    scene.add(this.boundsHelper);\n\n    selectionHelper.visible = false;\n    scene.add(selectionHelper);\n\n    setTimeout(() => {\n      this.controls.lock();\n    }, 2000);\n    const mouseInput = new MouseInput(this, world);\n    //  wave hand\n    mouseInput.onLeftClick = () => {\n      this.waveHand();\n    }\n\n    PlayerParams.playerInstance = this;\n  }\n  \n  /**\n   * Apply a world delta velocity to the player\n   */\n  applyWorldDeltaVelocity(dv: THREE.Vector3) {\n    dv.applyEuler(new THREE.Euler(0, -this.camera.rotation.y, 0));\n    this.velocity.add(dv);\n  }\n\n  /**@desc  Normalize the input vector if more than one key is pressed */\n  applyInputs(dt: number, blockUnderneath: BlockID) {\n    if (this.input.length() > 1) {\n      this.input\n        .normalize()\n        .multiplyScalar(this.isSprinting ? PlayerParams.maxSprintSpeed : PlayerParams.maxSpeed);\n    }\n\n    // \n    this.velocity.x = this.input.x;\n    this.velocity.z = this.input.z;\n\n    // play step sound \n    if (this.onGround && this.input.length() > 0) {\n      const minTimeout = this.isSprinting ? 300 : 400;\n      if (performance.now() - this.lastStepSoundPlayed > minTimeout) {\n        audioManager.playWalkSound(blockUnderneath);\n        this.lastStepSoundPlayed = performance.now();\n      }\n    }\n    // TODO \n    if (KeyboardInput.spacePressed && this.onGround) {\n      this.velocity.y = PlayerParams.jumpSpeed;\n    }\n    // \n    this.controls.moveRight(this.velocity.x * dt);\n    this.controls.moveForward(this.velocity.z * dt);\n    //  *  \n    this.position.y += this.velocity.y * dt;\n\n    updatePositionGUI(this.position);\n  }\n\n  /**@desc  */\n  update(world: World) {\n    this.boundsHelper.visible && updateBoundsHelper(this.camera.position, this.boundsHelper);\n    // \n    Selector.update(this.camera, world, selectionHelper);\n    Selector.select(this.camera, world, selectionHelper);\n    // \n    updateCameraFOV(this.camera, this.isSprinting);\n    // prevent player from falling through\n    if (this.position.y < 0) {\n      this.position.copy(PlayerInitPosition);\n      this.velocity.set(0, 0, 0);\n    }\n  }\n\n  /**\n   *   \n   * @param deltaPosition \n   */\n  updatePosition() {\n    this.updateByPosition();\n  }\n\n  /**\n   *  PlayerParams\n   */\n  updateByPosition() {\n    const { x, y, z } = this.position;\n    const { isInChunkCenter, chunk, nearFourChunks } = playerToChunkCoords(x, y, z);\n    PlayerParams.position.copy(this.position);\n    \n    //  currentChunk\n    updatePlayerNear(chunk, nearFourChunks, this.world, isInChunkCenter);  \n    //  chunk blockID\n    // const ceilBlockCoords = worldToCeilBlockCoord(block.x, block.y, block.z);\n    // updateBlockCoordGUI(ceilBlockCoords[0], ceilBlockCoords[1], ceilBlockCoords[2]);\n    //  blockID\n    const ceilWorldBlockCoord = worldToCeilBlockCoord(x, y, z);\n    updateWorldBlockCoordGUI(ceilWorldBlockCoord[0], ceilWorldBlockCoord[1], ceilWorldBlockCoord[2]);\n\n    // \n    Action.absorbDrops(this.world);\n  }\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/Player.ts"
    },
    "game/player/action": {
      "path": "game/player/action",
      "id": "game/player/action",
      "file": "game/player/action.ts",
      "absPath": "/game/player/action",
      "__content": "import * as THREE from \"three\";\nimport { Player } from \"./Player\";\nimport { PlayerEventKey } from \"./interface\";\nimport { PlayerInitPosition, PlayerParams } from \"./literal\";\nimport { World } from \"../world/World\";\nimport { KeyboardInput } from \"./keyboard\";\n\n/**\n * @desc  & \n */\nexport class Action {\n    /** @desc  */\n    static blockPlacementCoords: THREE.Vector3;\n\n    /** @desc  */\n    static handlePlayerEvent(player: Player, eventKey: PlayerEventKey, isKeyDown = true) {\n        switch (eventKey) {\n            case \"KeyW\":\n            case \"KeyS\":\n            case \"KeyA\":\n            case \"KeyD\":\n                handlePlayerMove(player, eventKey, isKeyDown);\n                break;\n            case \"Space\": // jump\n                if(isKeyDown) {\n                    KeyboardInput.spacePressed = true;\n                } else {\n                    KeyboardInput.spacePressed = false;\n                }\n                break;\n            case \"KeyR\": // reset player position & velocity\n                player.position.copy(PlayerInitPosition);\n                player.velocity.set(0, 0, 0);\n                break;\n        }\n    }\n\n    /** @desc  */\n    static absorbDrops(world: World) {\n        //   chunk \n        PlayerParams.activeChunks.forEach(chunkKey => {\n            const chunk = world.getChunk(chunkKey.x, chunkKey.z);\n            if (!chunk) return;\n            chunk.dropGroup.attract(PlayerParams.position);\n        });\n    }\n}\n\nfunction handlePlayerMove(player: Player, eventKey: PlayerEventKey, isKeyDown = true) {\n    // TODO  key up   input  0   physics \n    switch (eventKey) {\n        case \"KeyW\": // move forward\n            if(isKeyDown) {\n                // \n                if (!KeyboardInput.wKeyPressed && performance.now() - KeyboardInput.lastWPressed < 200) {\n                    player.isSprinting = true;\n                    player.input.z = PlayerParams.maxSprintSpeed;\n                } else {\n                    player.input.z = PlayerParams.maxSpeed;\n                }\n                KeyboardInput.wKeyPressed = true;\n                KeyboardInput.lastWPressed = performance.now();\n            } else {\n                player.input.z = 0;\n                KeyboardInput.wKeyPressed = false;\n                player.isSprinting = false;\n            }\n            break;\n        case \"KeyA\": // move left\n            if(isKeyDown) {\n                player.input.x = -PlayerParams.maxSpeed;\n            } else {\n                player.input.x = 0;\n            }\n            break;\n        case \"KeyS\": // move backward\n            if(isKeyDown) {\n                player.input.z = -PlayerParams.maxSpeed;\n            } else {\n                player.input.z = 0;\n            }\n            break;\n        case \"KeyD\": // move right\n            if(isKeyDown) {\n                player.input.x = PlayerParams.maxSpeed;\n            } else {\n                player.input.x = 0;\n            }\n            break;\n    }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/action.ts"
    },
    "game/player/camera": {
      "path": "game/player/camera",
      "id": "game/player/camera",
      "file": "game/player/camera.ts",
      "absPath": "/game/player/camera",
      "__content": "import * as THREE from \"three\";\nimport TWEEN from \"@tweenjs/tween.js\";\nimport { ScreenViewer } from \"../gui/viewer\";\nimport { PlayerInitPosition } from \"./literal\";\nimport { Layers } from \"../engine\";\nexport function initPlayerCamera() {\n    const camera = new THREE.PerspectiveCamera(\n    70,\n    ScreenViewer.width / ScreenViewer.height,\n    0.1,\n    5000\n    );\n\n    camera.position.copy(PlayerInitPosition);\n    camera.layers.disableAll();\n    camera.layers.enable(Layers.Zero);\n    camera.layers.enable(Layers.One);\n    return camera;\n}\n\n\nlet lastIsSprinting = false;\n/**@desc  player  FOV */\nexport function updateCameraFOV(camera: THREE.PerspectiveCamera, isSprinting: boolean) {\n    // \n    if (lastIsSprinting === isSprinting) return;\n    lastIsSprinting = isSprinting;\n\n    const currentFov = { fov: camera.fov };\n    const targetFov = isSprinting ? 80 : 70;\n    const update = () => {\n        camera.fov = currentFov.fov;\n        camera.updateProjectionMatrix();\n    };\n    new TWEEN.Tween(currentFov)\n        .to({ fov: targetFov }, 150)\n        .easing(TWEEN.Easing.Quadratic.Out)\n        .onUpdate(update)\n        .start();\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/camera.ts"
    },
    "game/world/literal": {
      "path": "game/world/literal",
      "id": "game/world/literal",
      "file": "game/world/literal.ts",
      "absPath": "/game/world/literal",
      "__content": "import { DevControl } from \"../dev\";\n\n/***\n * \n * TODO \n*/\nconst terrain = {\n  scale: 50,\n  magnitude: 0.1,\n  offset: 0.5,\n}\n\n// \nconst flatTerrain = {\n  scale: 50,\n  magnitude: 0.0,\n  offset: 0.5,\n}\nconst surface = {\n  offset: 4,\n  magnitude: 4,\n}\nconst bedrock = {\n  offset: 1,\n  magnitude: 2,\n}\nconst trees = {\n  frequency: 0.04,\n  trunkHeight: {\n    min: 5,\n    max: 7,\n  },\n  canopy: {\n    size: {\n      min: 1,\n      max: 3,\n    },\n  },\n}\n\nconst tallGrass = {\n  frequency: 0.02,\n  patchSize: 5,\n}\n// \nexport const getDefaultWorldParams = () => {\n  const { worldType } = DevControl;\n  return {\n    seed: 0,\n    terrain: worldType === 'flat' ? flatTerrain : terrain,\n    surface: surface,\n    bedrock: bedrock,\n    trees: worldType === 'flat' ? null : trees,\n    tallGrass: worldType === 'flat' ? null : tallGrass,\n    flowers: {\n      frequency: 0.0075,\n    },\n  }\n};",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/literal.ts"
    },
    "game/engine/index": {
      "path": "game/engine",
      "id": "game/engine/index",
      "file": "game/engine/index.ts",
      "absPath": "/game/engine",
      "__content": "import * as THREE from \"three\";\nimport { ScreenViewer } from \"../gui/viewer\";\n\n// TODO  scene renderer camera \n\nexport class Engine {\n    static screenWrap: HTMLDivElement;\n    static scene: THREE.Scene;\n    static renderer: THREE.WebGLRenderer;\n    static init() {\n        Engine.scene = new THREE.Scene();\n    \n        Engine.renderer = new THREE.WebGLRenderer();\n        Engine.renderer.shadowMap.enabled = true;\n        Engine.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\n        Engine.screenWrap = document.getElementById('canvas_wrap') as HTMLDivElement\n        const { width, height } = Engine.screenWrap.getBoundingClientRect();\n        ScreenViewer.width = width;\n        ScreenViewer.height = height;\n\n        Engine.renderer.setPixelRatio(window.devicePixelRatio);\n        Engine.renderer.setSize(ScreenViewer.width, ScreenViewer.height);\n        Engine.renderer.setClearColor(0x80abfe);\n        Engine.screenWrap.appendChild(Engine.renderer.domElement);\n    }\n}\n\nexport * from './layers';\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/index.ts"
    },
    "game/engine/utils": {
      "path": "game/engine/utils",
      "id": "game/engine/utils",
      "file": "game/engine/utils.ts",
      "absPath": "/game/engine/utils",
      "__content": "import * as THREE from \"three\";\n\nexport function getFloorVec3(vec3: THREE.Vector3) {\n    return new THREE.Vector3(\n        Math.floor(vec3.x),\n        Math.floor(vec3.y),\n        Math.floor(vec3.z)\n    )\n}\n\nexport function getFloorXYZ(x: number, y: number, z: number) {\n    return [\n        Math.floor(x),\n        Math.floor(y),\n        Math.floor(z),\n    ]\n}\n\n\n// TODO: make async\nlet textureLoader: THREE.TextureLoader | null = null;\nexport function loadTexture(path: string) {\n    if(!textureLoader) {\n        textureLoader = new THREE.TextureLoader();\n    }\n    const texture = textureLoader.load(path);\n    texture.colorSpace = THREE.SRGBColorSpace;\n    texture.minFilter = THREE.NearestMipmapNearestFilter;\n    texture.magFilter = THREE.NearestFilter;\n    texture.generateMipmaps = true;\n    return texture;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/utils.ts"
    },
    "game/helper/index": {
      "path": "game/helper",
      "id": "game/helper/index",
      "file": "game/helper/index.ts",
      "absPath": "/game/helper",
      "__content": "export * from './selectorHelper';\nexport * from './playerBoundHelper';\nexport * from './physics';\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/helper/index.ts"
    },
    "game/physics/drop": {
      "path": "game/physics/drop",
      "id": "game/physics/drop",
      "file": "game/physics/drop.ts",
      "absPath": "/game/physics/drop",
      "__content": "import { PlayerParams } from \"../player/literal\";\nimport { DropGroup } from \"../world/drop/drop\";\nimport { World } from \"../world/World\";\n\n/** @desc  */\nexport class DropPhysics {\n    private world: World;\n    constructor(world: World) {\n        this.world = world;\n    }\n\n    /**@desc  */\n    update() {\n        const drops = this.getCandidatesDrops();\n        drops.forEach(drop => drop.update());\n    }\n\n    /**@desc  */\n    private getCandidatesDrops() {\n        const drops: DropGroup[] = [];\n        PlayerParams.activeChunks.forEach(chunkKey => {\n            const chunk = this.world.getChunk(chunkKey.x, chunkKey.z);\n            if (!chunk) return;\n            drops.push(chunk.dropGroup);\n        });\n        return drops;\n    }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/physics/drop.ts"
    },
    "game/player/group": {
      "path": "game/player/group",
      "id": "game/player/group",
      "file": "game/player/group.ts",
      "absPath": "/game/player/group",
      "__content": "import * as THREE from \"three\";\nimport TWEEN from \"@tweenjs/tween.js\";\nimport { Scene } from \"three\";\nimport { initPlayerCamera } from \"./camera\";\nimport { Layers } from \"../engine\";\nimport { PointerLockControls } from \"three/examples/jsm/controls/PointerLockControls.js\";\nimport { quadraticFunction } from \"../engine/math\";\nimport { MeshPool } from \"../engine/mesh\";\nimport { MeshType } from \"../engine/mesh/constant\";\nimport { BlockID } from \"../Block\";\nimport { ToolBar } from \"../gui\";\n\n/**\n * @desc player group  player \n *  camera \n */\nconst handleOriginRotationX = Math.PI * 0.5;\nconst handleOriginRotationY = Math.PI * 0.08;\nconst handleOriginRotationZ = Math.PI * 0.05;\nconst WaveStepX = -Math.PI / 8;\n\nexport class PlayerGroup {\n    controls!: PointerLockControls;\n    cameraHelper!: THREE.CameraHelper;\n    private handPoint!: THREE.Group;\n    private scene: Scene;\n    private basePoint!: THREE.PerspectiveCamera;\n    private currentHandBlockID: BlockID | null | undefined = null;\n    get position() {\n        return this.basePoint.position;\n    }\n    get rotation() {\n        return this.basePoint.rotation;\n    }\n    get camera() {\n        return this.basePoint;\n    }\n    constructor(scene: Scene) {\n        this.scene = scene;\n        this.initBasePoint();\n        this.initHand();\n    }\n\n    initBasePoint() {\n        const camera = initPlayerCamera();\n        const cameraHelper = new THREE.CameraHelper(camera);\n        cameraHelper.layers.set(Layers.One);\n        cameraHelper.visible = false;\n        this.controls = new PointerLockControls(camera, document.body);\n        this.basePoint = camera;\n        this.cameraHelper = cameraHelper;\n        this.scene.add(camera);\n        this.scene.add(cameraHelper);\n    }\n\n    initHand() {\n        const point = new THREE.Group();\n        point.position.set(0.3, -0.2, -0.2);\n        point.rotation.set(\n            handleOriginRotationX,\n            handleOriginRotationY,\n            handleOriginRotationZ,\n        );\n        this.basePoint.add(point);\n\n        const handPoint = new THREE.Group();\n        point.add(handPoint);\n\n        this.handPoint = handPoint;\n        // this.updateHand(null);\n    }\n\n    /**\n     * @desc  blockID \n     */\n    updateHand() {\n        const blockID = ToolBar.activeBlockId\n        if (this.currentHandBlockID === blockID) return;\n        this.currentHandBlockID = blockID;\n        this.handPoint.clear();\n        if (!blockID) {\n            this.handPoint.add(MeshPool.getMesh(MeshType.Hand) as THREE.Mesh);\n        } else {\n            // TODO \n            switch (blockID) {\n                case BlockID.Grass:\n                    return this.handPoint.add(MeshPool.getMesh(MeshType.GrassBlock) as THREE.Mesh);\n                case BlockID.Dirt:\n                    return this.handPoint.add(MeshPool.getMesh(MeshType.DirtBlock) as THREE.Mesh);\n                case BlockID.Stone:\n                    return this.handPoint.add(MeshPool.getMesh(MeshType.StoneBlock) as THREE.Mesh);\n                case BlockID.CoalOre:\n                case BlockID.IronOre:\n                case BlockID.Bedrock:\n                case BlockID.OakLog:\n                case BlockID.Leaves:\n                case BlockID.TallGrass:\n                case BlockID.FlowerRose:\n                    return this.handPoint.add(MeshPool.getMesh(MeshType.FlowerRose) as THREE.Mesh);\n                case BlockID.FlowerDandelion:\n                    return this.handPoint.add(MeshPool.getMesh(MeshType.FlowerDandelion) as THREE.Mesh);\n                case BlockID.RedstoneLamp:\n                case BlockID.StoneBrick:\n            }\n        }\n    }\n\n    /**@desc //  */\n    waveHand() {\n        if (!this.handPoint) return;\n        const update = (o: { t: number }) => {\n            this.handPoint.rotation.x =  quadraticFunction(o.t) * WaveStepX;\n            this.handPoint.rotation.z =  quadraticFunction(o.t) * WaveStepX * 0.5;\n            // this.handPoint.position.z = quadraticFunction(o.t) * 0.1;\n            // this.handPoint.position.x = -quadraticFunction(o.t) * 0.1;\n            // this.handPoint.position.y = -quadraticFunction(o.t) * 0.1;\n        };\n        new TWEEN.Tween({t: 0})\n            .to({ t: 1 }, 200)\n            .easing(TWEEN.Easing.Quadratic.Out)\n            .onUpdate(update)\n            .start();\n    }\n\n    /**@desc  */\n    placementHand() {\n        // TODO  wave hand  \n        this.waveHand();\n    }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/group.ts"
    },
    "game/player/mouse": {
      "path": "game/player/mouse",
      "id": "game/player/mouse",
      "file": "game/player/mouse.ts",
      "absPath": "/game/player/mouse",
      "__content": "import * as THREE from \"three\";\nimport { World } from \"../world/World\";\nimport { PlayerParams } from \"./literal\";\nimport { Player } from \"./Player\";\nimport { Action } from \"./action\";\nimport { ToolBar } from \"../gui\";\nimport { worldToCeilBlockCoord } from \"../world/chunk/utils\";\n\n/**@desc  */\nexport class MouseInput {\n    onLeftClick?(): void;\n    onRightClick?(): void;\n    private isClickEvent = false;\n    private player: Player;\n    private world: World;\n    constructor(player: Player, world: World) {\n        this.player = player;\n        this.world = world;\n\n        document.addEventListener(\"mousedown\", this.onMouseDown.bind(this), false);\n    }\n\n    //  \n    onMouseDown(event: MouseEvent) {\n        const { player, world } = this;\n        if (!player || !world) return;\n        if (!player.controls.isLocked) return;\n        if (event.button === 0) {\n            this.handleLeftClick();\n            this.handleBreak();\n        } else if (event.button === 2 && Action.blockPlacementCoords) {\n            this.handlePlacement();\n        }\n    }\n\n    private handleLeftClick() {\n        if (this.onLeftClick && !this.isClickEvent) {\n            this.isClickEvent = true;\n            setTimeout(() => this.isClickEvent = false, 64);\n            this.onLeftClick();\n        }\n    }\n\n    /**@desc  */\n    private handleBreak() {\n        if(!PlayerParams.selectedCoords) return;\n        const { x, y, z } = PlayerParams.selectedCoords;\n        // Left click \n        // TODO \n        // TODO  &   &  & \n        const [blockX, blockY, blockZ] = worldToCeilBlockCoord(x, y, z);\n        this.world.removeBlock(blockX, blockY, blockZ);\n    }\n\n    /**@desc  */\n    private handlePlacement() {\n        const { world, player } = this;\n        // \n        if (!ToolBar.activeBlockId) return;\n        const playerPos = new THREE.Vector3(\n        Math.floor(player.position.x),\n        Math.floor(player.position.y) - PlayerParams.halfHeight,\n        Math.floor(player.position.z)\n        );\n        const blockPos = new THREE.Vector3(\n        Math.floor(Action.blockPlacementCoords.x - 0.5),\n        Math.floor(Action.blockPlacementCoords.y - 0.5),\n        Math.floor(Action.blockPlacementCoords.z - 0.5)\n        );\n\n        // TODO \n        // \n        if (playerPos.distanceTo(blockPos) <= 1) return;\n\n        // Right click \n        const isPlacementSuccess = world.addBlock(\n            blockPos.x,\n            blockPos.y,\n            blockPos.z,\n            ToolBar.activeBlockId\n        );\n        if (isPlacementSuccess) {\n            // \n            ToolBar.removeBlockId();\n            // \n            PlayerParams.playerInstance?.placementHand();\n        }        \n    }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/mouse.ts"
    },
    "game/player/utils": {
      "path": "game/player/utils",
      "id": "game/player/utils",
      "file": "game/player/utils.ts",
      "absPath": "/game/player/utils",
      "__content": "import { PlayerParams } from \"./literal\";\nimport { World } from \"../world/World\";\nimport { Player } from \"./Player\";\nimport { getFloorXYZ } from \"../engine/utils\";\nimport { WorldChunk } from \"../world/WorldChunk\";\n\n/**\n * @desc \n * @param player \n * @param world \n * @returns \n */\nexport function getBlockUnderneath(player: Player, world: World) {\n  const { x, y, z} = player.position;\n  const [fx, fy, fz] = getFloorXYZ(x, y - PlayerParams.height / 2 - 1, z)\n  return world.getBlock(fx, fy, fz);\n}\n\n/**@desc  1 or 4  chunk */ \nexport function getNearChunks(world: World) {\n    const chunks: WorldChunk[] = [];\n    PlayerParams.activeChunks.forEach((chunkKey) => {\n      const chunk = world.getChunk(chunkKey.x, chunkKey.z);\n      chunk && chunks.push(chunk);\n    });\n    return chunks;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/player/utils.ts"
    },
    "game/Block/index": {
      "path": "game/Block",
      "id": "game/Block/index",
      "file": "game/Block/index.ts",
      "absPath": "/game/Block",
      "__content": "export * from \"./constant\";\nexport * from \"./base/BlockFactory\";",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Block/index.ts"
    },
    "game/dev/control": {
      "path": "game/dev/control",
      "id": "game/dev/control",
      "file": "game/dev/control.ts",
      "absPath": "/game/dev/control",
      "__content": "import { GlobalProps } from \"./query\";\n\n/**\n * \n */\nexport class DevControl {\n    static chunkHelperVisible = GlobalProps.chunk_helper === '1' ? true : false;\n    static chunkWireframeMode = false;\n    static worldType = GlobalProps.world || 'terrain'; // 'flat'\n    static physicsHelperVisible = GlobalProps.physics_helper === '1' ? true : false;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/dev/control.ts"
    },
    "game/engine/math": {
      "path": "game/engine/math",
      "id": "game/engine/math",
      "file": "game/engine/math.ts",
      "absPath": "/game/engine/math",
      "__content": "/**\n * x[0,1]y010(0.5,1)\n * @param {number} x - 0x1\n * @returns {number} y0y1\n */\nexport function quadraticFunction(x: number) {\n  // x0-10y\n  if (x < 0 || x > 1) return 0;\n  // y = -4x + 4x4x(1-x)\n  return 4 * x * (1 - x); \n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/engine/math.ts"
    },
    "game/sky/literal": {
      "path": "game/sky/literal",
      "id": "game/sky/literal",
      "file": "game/sky/literal.ts",
      "absPath": "/game/sky/literal",
      "__content": "import * as THREE from \"three\";\n\nexport const dayColor = new THREE.Color(0xc0d8ff);\nexport const nightColor = new THREE.Color(0x10121e);\nexport const sunsetColor = new THREE.Color(0xcc7a00);\n\nexport const uniforms = {\n    topColor: { type: \"c\", value: new THREE.Color(0xa0c0ff) },\n    bottomColor: { type: \"c\", value: new THREE.Color(0xffffff) },\n    offset: { type: \"f\", value: 99 },\n    exponent: { type: \"f\", value: 0.3 },\n};\n\nexport const sunSettings = {\n  distance: 400,\n  cycleLength: 600,\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/sky/literal.ts"
    },
    "game/utils/index": {
      "path": "game/utils",
      "id": "game/utils/index",
      "file": "game/utils/index.ts",
      "absPath": "/game/utils",
      "__content": "import * as THREE from \"three\";\n\n/**@desc  */\nexport function jitterNumber(num: number, jitterRange: number) {\n    return num + (Math.random() - 0.5) * jitterRange;\n}\n\nexport function getPositionFromMatrix(matrix: THREE.Matrix4) {\n    return [\n        matrix.elements[12],\n        matrix.elements[13],\n        matrix.elements[14],\n    ];\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/utils/index.ts"
    },
    "game/world/World": {
      "path": "game/world/World",
      "id": "game/world/World",
      "file": "game/world/World.ts",
      "absPath": "/game/world/World",
      "__content": "import * as THREE from \"three\";\nimport { BlockID } from \"../Block\";\nimport { BlockFactory } from \"../Block/base/BlockFactory\";\nimport { LightSourceBlock } from \"../Block/blocks/LightSourceBlock\";\nimport { DataStore } from \"./DataStore\";\nimport { Player } from \"../player/Player\";\nimport { WorldChunk } from \"./WorldChunk\";\nimport { IWorldParams } from \"./interface\";\nimport { getDefaultWorldParams } from \"./literal\";\nimport { PlayerInitPosition, PlayerParams } from \"../player/literal\";\nimport { ToolBar, updateProgressGUI } from \"../gui\";\nimport { RNG } from \"../seed/RNG\";\nimport { SimplexNoise } from \"three/examples/jsm/math/SimplexNoise.js\";\nimport { ChunkParams } from \"./chunk/literal\";\nimport { worldToChunkCoords, worldToChunkCoordsXZ } from \"./chunk/utils\";\nimport { getFloorXYZ } from \"../engine/utils\";\n\nexport class World extends THREE.Group {\n  static rng: RNG;\n  static simplex: SimplexNoise;\n  scene: THREE.Scene;\n  seed: number;\n  renderDistance = 8;\n  asyncLoading = true;\n  chunkQueue: { x: number; z: number }[];\n  // minChunkLoadTimeout = 200;\n  // lastChunkLoadTime = 0;\n  onLoad?: () => void;\n  params: IWorldParams = getDefaultWorldParams();\n\n  // Used for persisting changes to the world\n  dataStore = new DataStore();\n  pointLights = new Map<string, THREE.PointLight>();\n  private initialLoadComplete = false;\n\n  constructor(seed = 0, scene: THREE.Scene) {\n    super();\n    this.seed = seed;\n    World.rng = new RNG(seed);\n    World.simplex = new SimplexNoise(World.rng);\n    this.scene = scene;\n    this.chunkQueue = [];\n\n    ToolBar.updateToolBarGUI();\n  }\n\n  /**\n   * Clears existing world data and re-generates everything\n   */\n  regenerate(player: Player) {\n    this.children.forEach((chunk) => {\n      if (chunk instanceof WorldChunk) {\n        chunk.disposeChildren();\n      }\n    });\n    this.clear();\n    this.update(player);\n  }\n\n  getBlockKey(x: number, y: number, z: number) {\n    return `${x},${y},${z}`;\n  }\n\n  getChunkKey(x: number, z: number) {\n    return `${x},${z}`;\n  }\n\n  /**\n   * Updates the visible portions of the world based on the current player position\n   */\n  update(player: Player) {\n    const visibleChunks = this.getVisibleChunks();\n    const chunksToAdd = this.getChunksToAdd(visibleChunks);\n    this.removeUnusedChunks(visibleChunks);\n\n    //  chunk  chunk queue\n    if (chunksToAdd.length > 0) {\n      // console.log(\"Chunks to add\", chunksToAdd);\n      this.chunkQueue = [...chunksToAdd, ...this.chunkQueue];\n\n      // trim duplicates from chunkQueue\n      const chunkQueueSet = new Set();\n      this.chunkQueue = this.chunkQueue.filter((chunk) => {\n        const key = this.getChunkKey(chunk.x, chunk.z);\n        if (chunkQueueSet.has(key)) {\n          return false;\n        } else {\n          chunkQueueSet.add(key);\n          return true;\n        }\n      });\n    }\n\n    // process top from chunk queue\n    if (this.chunkQueue.length) {\n      const chunk = this.chunkQueue.shift();\n      if (chunk) {\n        // console.log(\"Generating chunk\", chunk.x, chunk.z);\n        this.generateChunk(chunk.x, chunk.z);\n        // this.lastChunkLoadTime = performance.now();\n      }\n    }\n\n    // \n    if (!this.initialLoadComplete) {\n      this.updateInitialLoad();\n    }\n  }\n\n  private updateInitialLoad() {\n    const totalChunks = (this.renderDistance * 2 + 1) ** 2;\n    const loadedChunks = this.children.length;\n    const percentLoaded = Math.round((loadedChunks / totalChunks) * 100);\n   \n    if(!PlayerParams.currentChunk) {  \n      const [chunkX, chunkZ] = worldToChunkCoordsXZ(PlayerInitPosition.x, PlayerInitPosition.z);\n      PlayerParams.currentChunk = {x: chunkX, z: chunkZ};\n    }\n\n    updateProgressGUI(percentLoaded);\n    //  player \n    if(percentLoaded === 100) {\n      this.initialLoadComplete = true;\n      // world chunk   onLoad \n      this.onLoad && this.onLoad();\n    }\n  }\n\n  /**\n   * @desc \n   * @param position \n   * @param playerHeight \n   * @returns \n   */\n  getBlockUnderneath(position: THREE.Vector3) {\n    const {x, y, z} = position;\n    const [floorX, floorY, floorZ] = getFloorXYZ(x, y - PlayerParams.height / 2 - 1, z);\n    return this.getBlock(floorX, floorY, floorZ);\n  }\n\n  /**\n   * Returns an array containing the coordinates of the chunks\n   * that are currently visible to the player, starting from the center\n   */\n  getVisibleChunks(): { x: number; z: number }[] {\n    // get coordinates of the chunk the player is currently on\n    // const [chunkX, chunkZ] = worldToChunkCoordsXZ(player.position.x, player.position.z);\n    if (!PlayerParams.currentChunk) return [];\n    // console.log('chunkX, chunkZ', chunkX, chunkZ);\n    const {x: chunkX, z: chunkZ} = PlayerParams.currentChunk;\n\n    const visibleChunks: { x: number; z: number }[] = [];\n    const range = Array.from(\n      { length: this.renderDistance * 2 + 1 },\n      (_, i) => i - this.renderDistance\n    );\n    range.sort((a, b) => Math.abs(a) - Math.abs(b));\n\n    for (const dx of range) {\n      for (const dz of range) {\n        visibleChunks.push({ x: chunkX + dx, z: chunkZ + dz });\n      }\n    }\n\n    // sort chunks by distance from player\n    visibleChunks.sort((a, b) => {\n      const distA = Math.sqrt(\n        (a.x - chunkX) ** 2 + (a.z - chunkZ) ** 2\n      );\n      const distB = Math.sqrt(\n        (b.x - chunkX) ** 2 + (b.z - chunkZ) ** 2\n      );\n      return distA - distB;\n    });\n\n    return visibleChunks;\n  }\n\n  /**\n   * Returns an array containing the coordinates of the chunks that\n   * are not yet loaded and need to be added to the scene\n   */\n  getChunksToAdd(\n    visibleChunks: { x: number; z: number }[]\n  ): { x: number; z: number }[] {\n    return visibleChunks.filter((chunk) => {\n      const chunkExists = this.children\n        .map((obj) => obj.userData)\n        .find(({ x, z }) => {\n          return chunk.x === x && chunk.z == z;\n        });\n\n      return !chunkExists;\n    });\n  }\n\n  /**\n   * Removes current loaded chunks that are no longer visible\n   */\n  removeUnusedChunks(visibleChunks: { x: number; z: number }[]) {\n    const chunksToRemove = this.children.filter((obj) => {\n      const { x, z } = obj.userData;\n      const chunkExists = visibleChunks.find((visibleChunk) => {\n        return visibleChunk.x === x && visibleChunk.z === z;\n      });\n\n      return !chunkExists;\n    });\n\n    chunksToRemove.forEach((chunk) => {\n      if (chunk instanceof WorldChunk) {\n        chunk.disposeChildren();\n      }\n\n      this.remove(chunk);\n      // console.log(\n      //   `Removed chunk at X: ${chunk.userData.x} Z: ${chunk.userData.z}`\n      // );\n    });\n    return chunksToRemove;\n  }\n\n  /**\n   * Generates the chunk at (x, z) coordinates\n   */\n  async generateChunk(x: number, z: number) {\n    const { width } = ChunkParams;\n    const chunk = new WorldChunk(this.params, this.dataStore);\n    chunk.position.set(x * width, 0, z * width);\n    chunk.userData = { x, z };\n    chunk.generate();\n\n    this.add(chunk);\n  }\n\n  /**\n   *@desc Adds a new block at (x, y, z) \n   */\n  addBlock(x: number, y: number, z: number, block: BlockID) {\n    const coords = worldToChunkCoords(x, y, z);\n    const chunk = this.getChunk(coords.chunk.x, coords.chunk.z);\n\n    if (chunk && chunk.loaded) {\n      const isSuccess = chunk.addBlock(coords.block.x, coords.block.y, coords.block.z, block);\n\n      // if adding a light, convert to point light\n      // TODO  \n      if (block === BlockID.RedstoneLamp) {\n        const blockClass = BlockFactory.getBlock(block) as LightSourceBlock;\n        const light = new THREE.PointLight(\n          blockClass.color,\n          blockClass.intensity,\n          blockClass.distance,\n          blockClass.decay\n        );\n        light.position.set(x + 0.5, y + 0.5, z + 0.5);\n        light.castShadow = true;\n        this.pointLights.set(this.getBlockKey(x, y, z), light);\n        this.scene.add(light);\n      }\n\n      // Hide any blocks that may be totally obscured\n      this.hideBlockIfNeeded(x - 1, y, z);\n      this.hideBlockIfNeeded(x + 1, y, z);\n      this.hideBlockIfNeeded(x, y - 1, z);\n      this.hideBlockIfNeeded(x, y + 1, z);\n      this.hideBlockIfNeeded(x, y, z - 1);\n      this.hideBlockIfNeeded(x, y, z + 1);\n      return isSuccess;\n    } else {\n      return false;\n    }\n  }\n\n  // TODO  & \n  removeBlock(x: number, y: number, z: number) {\n    const coords = worldToChunkCoords(x, y, z);\n    const chunk = this.getChunk(coords.chunk.x, coords.chunk.z);\n    const blockToRemove = this.getBlock(x, y, z);\n    // console.log('chunk', chunk);\n    // console.log('blockToRemove', blockToRemove);\n    //  bedrock\n    if (blockToRemove?.block === BlockID.Bedrock) return;\n    \n    if (chunk && chunk.loaded) {\n      // console.log(`Removing block at ${x}, ${y}, ${z} for chunk ${chunk.uuid}`);\n      chunk.removeBlock(coords.block.x, coords.block.y, coords.block.z);\n      //  \n      if (this.pointLights.has(this.getBlockKey(x, y, z))) {\n        const light = this.pointLights.get(this.getBlockKey(x, y, z));\n        if (light) {\n          this.scene.remove(light);\n          this.pointLights.delete(this.getBlockKey(x, y, z));\n        }\n      }\n\n      // Reveal any adjacent blocks that may have been exposed after the block at (x,y,z) was removed\n      this.revealBlock(x - 1, y, z);\n      this.revealBlock(x + 1, y, z);\n      this.revealBlock(x, y - 1, z);\n      this.revealBlock(x, y + 1, z);\n      this.revealBlock(x, y, z - 1);\n      this.revealBlock(x, y, z + 1);\n\n      // if above block is passthrough, remove it as well\n      //    canPassThrough  true\n      const aboveBlock = this.getBlock(x, y + 1, z);\n      if (\n        aboveBlock &&\n        // TODO  canPassThrough \n        BlockFactory.getBlock(aboveBlock.block).canPassThrough &&\n        aboveBlock.block !== BlockID.Air\n      ) {\n        this.removeBlock(x, y + 1, z);\n      }\n    }\n  }\n\n  /**\n   * Gets the block data at (x, y, z)\n   */\n  getBlock(x: number, y: number, z: number) {\n    const coords = worldToChunkCoords(x, y, z);\n    const chunk = this.getChunk(coords.chunk.x, coords.chunk.z);\n\n    if (chunk && chunk.loaded) {\n      return chunk.getBlock(coords.block.x, y, coords.block.z);\n    }\n  }\n\n  /**\n   * Returns the WorldChunk object that contains the specified coordinates\n   */\n  getChunk(x: number, z: number): WorldChunk | undefined {\n    return this.children.find((obj) => {\n      return obj.userData.x === x && obj.userData.z === z;\n    }) as WorldChunk | undefined;\n  }\n\n  /**\n   * Reveals block at (x, y, z) by adding new mesh instance\n   */\n  revealBlock(x: number, y: number, z: number) {\n    // console.log(`Revealing block at ${x}, ${y}, ${z}`);\n    const coords = worldToChunkCoords(x, y, z);\n    const chunk = this.getChunk(coords.chunk.x, coords.chunk.z);\n\n    if (chunk && chunk.loaded) {\n      chunk.addBlockInstance(coords.block.x, coords.block.y, coords.block.z);\n    }\n  }\n\n  /**\n   * Hides block at (x, y, z) by removing mesh instance\n   */\n  hideBlockIfNeeded(x: number, y: number, z: number) {\n    const coords = worldToChunkCoords(x, y, z);\n    const chunk = this.getChunk(coords.chunk.x, coords.chunk.z);\n\n    if (\n      chunk &&\n      chunk.loaded &&\n      chunk.isBlockObscured(coords.block.x, coords.block.y, coords.block.z)\n    ) {\n      // console.log(`Hiding block at ${x}, ${y}, ${z}`);\n      chunk.deleteBlockInstance(coords.block.x, coords.block.y, coords.block.z);\n    }\n  }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/world/World.ts"
    },
    "game/gui/viewer": {
      "path": "game/gui/viewer",
      "id": "game/gui/viewer",
      "file": "game/gui/viewer.ts",
      "absPath": "/game/gui/viewer",
      "__content": "// \n// TODO \nexport const ScreenViewer = {\n    width: window.innerWidth,\n    height: window.innerHeight,\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/gui/viewer.ts"
    },
    "game/sky/shader": {
      "path": "game/sky/shader",
      "id": "game/sky/shader",
      "file": "game/sky/shader.ts",
      "absPath": "/game/sky/shader",
      "__content": "export const vertexShader = `\n  varying vec3 worldPosition;\n  void main() {\n      vec4 mPosition = modelMatrix * vec4( position, 1.0 );\n      worldPosition = mPosition.xyz;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  }\n`;\n\nexport const fragmentShader = `\n  uniform vec3 topColor;\n  uniform vec3 bottomColor;\n  uniform float offset;\n  uniform float exponent;\n\n  varying vec3 worldPosition;\n\n  void main() {\n\n    float h = normalize( worldPosition + offset ).y;\n    gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( h, exponent ), 0.0 ) ), 1.0 );\n\n  }\n`;",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/sky/shader.ts"
    },
    "game/dev/index": {
      "path": "game/dev",
      "id": "game/dev/index",
      "file": "game/dev/index.ts",
      "absPath": "/game/dev",
      "__content": "import * as THREE from \"three\";\n// @ts-expect-error import umi\nimport Stats from \"three/examples/jsm/libs/stats.module\";\n\nexport * from './control';\n\nlet triangleCount: HTMLElement | null = null;\nlet triangleCountInnerHtml = '';\nlet renderCalls:  HTMLElement | null = null;\nlet renderCallsInnerHtml = '';\nfunction numberWithCommas(x: number): string {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nexport function updateRenderInfoGUI(renderer: THREE.WebGLRenderer) {\n    // get element\n    if(!triangleCount) {\n        triangleCount = document.getElementById(\"triangle-count\");\n    }\n    if(!renderCalls) {\n        renderCalls = document.getElementById(\"render-calls\");\n    }\n    // update text\n    if (triangleCount) {\n      const inner = `triangles: ${numberWithCommas(\n        renderer.info.render.triangles\n      )}`;\n      if(inner !== triangleCountInnerHtml) {\n        triangleCountInnerHtml = inner;\n        triangleCount.innerHTML = inner;\n      }\n    }\n    if (renderCalls) {\n      const inner = `draw calls: ${numberWithCommas(\n        renderer.info.render.calls\n      )}`;\n      if(inner !== renderCallsInnerHtml) {\n        renderCallsInnerHtml = inner;\n        renderCalls.innerHTML = inner;\n      }\n    }\n}\n\nexport function updateChunkCoordGUI(chunkX: number, chunkZ: number) {\n    const chunkCoord = document.getElementById(\"chunk-coord\");\n    if (chunkCoord) {\n      const inner = `chunk: ${chunkX}, ${chunkZ}`;\n      if(chunkCoord.innerHTML !== inner) {\n        chunkCoord.innerHTML = inner;\n      }\n    }\n}\n\nexport function updateBlockCoordGUI(blockX: number, blockY: number, blockZ: number) {\n    const blockCoord = document.getElementById(\"chunk-block-coord\");\n    if (blockCoord) {\n      const inner = `chunk block: ${blockX}, ${blockY}, ${blockZ}`;\n      if(blockCoord.innerHTML !== inner) {\n        blockCoord.innerHTML = inner;\n      }\n    }\n}\n\nexport function updateWorldBlockCoordGUI(blockX: number, blockY: number, blockZ: number) {\n    const blockCoord = document.getElementById(\"world-block-coord\");\n    if (blockCoord) {\n      const inner = `world block: ${blockX}, ${blockY}, ${blockZ}`;\n      if(blockCoord.innerHTML !== inner) {\n        blockCoord.innerHTML = inner;\n      }\n    }\n}\n\nlet stats: Stats;\nexport function initStats() {\n  stats = new Stats();\n  document.body.appendChild(stats.dom);\n  stats.dom.style = 'position: fixed; bottom: 20px; left: 20px; cursor: pointer; opacity: 0.9; z-index: 10000;'\n}\n\nexport function updateStats() {\n    if (stats) stats.update();\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/dev/index.ts"
    },
    "game/dev/query": {
      "path": "game/dev/query",
      "id": "game/dev/query",
      "file": "game/dev/query.ts",
      "absPath": "/game/dev/query",
      "__content": "export const GlobalProps = parseQueryParams();\n/**\n * URLquery\n * @param {string} url - URLURL\n * @returns {Object} \n */\nfunction parseQueryParams(url = window.location.href) {\n  // 1. query?#\n  const queryStr = url.split('?')[1]?.split('#')[0] || '';\n  const params: Record<string, string> = {};\n  \n  // 2. \n  if (!queryStr) return params;\n  \n  // 3. \n  queryStr.split('&').forEach(item => {\n    // ?name\n    const [key, value = ''] = item.split('=');\n    // URL%20%E4%B8%AD\n    const decodeKey = decodeURIComponent(key.trim());\n    const decodeValue = decodeURIComponent(value.trim());\n    \n    // key?a=1&a=2a=2\n    if (decodeKey) { // key?&=123\n      params[decodeKey] = decodeValue;\n    }\n  });\n  \n  return params;\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/dev/query.ts"
    },
    "game/gui/index": {
      "path": "game/gui",
      "id": "game/gui/index",
      "file": "game/gui/index.ts",
      "absPath": "/game/gui",
      "__content": "import GUI from \"lil-gui\";\nimport * as THREE from \"three\";\nimport { Player } from \"../player/Player\";\nimport { World } from \"../world/World\";\nimport { initStats } from \"../dev\";\nimport audioManager from \"../audio/AudioManager\";\nimport { oreConfig } from \"../world/generate/resource\";\nimport { debounce } from \"lodash\";\nimport { Physics } from \"../physics/index.ts\";\nimport { ChunkParams } from \"../world/chunk/literal.ts\";\n\nexport * from './toolbar/toolbar.ts';\n\nexport function createUI(\n  world: World,\n  player: Player,\n  physics: Physics,\n  scene: THREE.Scene,\n  renderer: THREE.WebGLRenderer,\n  sunSettings: { distance: number; cycleLength: number },\n  sunHelper: THREE.DirectionalLightHelper,\n  shadowHelper: THREE.CameraHelper\n) {\n\n  // TIP  close\n  const gui = new GUI();\n  const custom = { volume: 0.3 };\n\n  const soundFolder = gui.addFolder(\"Sound\");\n  soundFolder\n    .add(custom, \"volume\", 0, 1, 0.01)\n    .name(\"Volume\")\n    .onChange((value: number) => {\n      Howler.volume(value);\n    });\n  soundFolder.close();\n\n  const playerFolder = gui.addFolder(\"Player\");\n  playerFolder.add(player.cameraHelper, \"visible\").name(\"Camera Helper\");\n  playerFolder.add(player.boundsHelper, \"visible\").name(\"Show Player Bounds\");\n  playerFolder.close();\n\n  if(physics.helpers) {\n    const physicsFolder = gui.addFolder(\"Physics\");\n    physicsFolder.add(physics.helpers, \"visible\").name(\"Visualize Collisions\");\n    physicsFolder\n      .add(physics, \"simulationRate\", 10, 1000)\n      .name(\"Simulation Rate\");\n    physicsFolder.close();\n  }\n\n\n  const worldFolder = gui.addFolder(\"World\");\n  worldFolder.add(renderer.shadowMap, \"enabled\").name(\"Enable Shadows\");\n  worldFolder.add(sunHelper, \"visible\").name(\"Show Sun Helper\");\n  worldFolder.add(shadowHelper, \"visible\").name(\"Show Shadow Helper\");\n  worldFolder\n    .add(sunSettings, \"cycleLength\", 0, 1000, 1)\n    .name(\"Day Length (s)\");\n  worldFolder.add(world, \"renderDistance\", 1, 16, 1).name(\"Render Distance\");\n  if (scene.fog) {\n    worldFolder.add(scene.fog, \"near\", 1, 200, 1).name(\"Fog Near\");\n    worldFolder.add(scene.fog, \"far\", 1, 200, 1).name(\"Fog Far\");\n  }\n  worldFolder.close();\n\n  const terrainFolder = gui.addFolder(\"Terrain\");\n  terrainFolder.add(ChunkParams, \"width\", 8, 128, 1).name(\"Width\");\n  terrainFolder.add(ChunkParams, \"height\", 8, 64, 1).name(\"Height\");\n  terrainFolder.add(world.params, \"seed\", 1, 10000, 1).name(\"Seed\");\n  terrainFolder.add(world.params.terrain, \"scale\", 10, 100, 1).name(\"Scale\");\n  terrainFolder.add(world.params.terrain, \"magnitude\", 0, 1).name(\"Magnitude\");\n  terrainFolder.add(world.params.terrain, \"offset\", 0, 1).name(\"Offset\");\n  terrainFolder.close();\n\n  if(world.params.trees) {\n    const treesFolder = terrainFolder.addFolder(\"Trees\");\n    treesFolder.add(world.params.trees, \"frequency\", 0, 1, 0.1).name(\"Frequency\");\n    treesFolder\n      .add(world.params.trees.trunkHeight, \"min\", 0, 10, 1)\n      .name(\"Min Trunk Height\");\n    treesFolder\n      .add(world.params.trees.trunkHeight, \"max\", 0, 10, 1)\n      .name(\"Max Trunk Height\");\n    treesFolder\n      .add(world.params.trees.canopy.size, \"min\", 0, 10, 1)\n      .name(\"Min Canopy Size\");\n    treesFolder\n      .add(world.params.trees.canopy.size, \"max\", 0, 10, 1)\n      .name(\"Max Canopy Size\");\n\n    treesFolder.close();\n  }\n  if(world.params.tallGrass) {\n    const grassFolder = terrainFolder.addFolder(\"Grass\");\n    grassFolder.add(world.params.tallGrass, \"frequency\", 0, 1, 0.1).name(\"Frequency\");\n    grassFolder\n      .add(world.params.tallGrass, \"patchSize\", 1, 10, 1)\n      .name(\"Grass Patch Size\");\n    grassFolder.close();\n  }\n\n  terrainFolder\n    .add(world.params.flowers, \"frequency\", 0, 1, 0.1)\n    .name(\"Frequency\");\n\n  const resourcesFolder = gui.addFolder(\"Resources\");\n\n  for (const resource of Object.keys(oreConfig)) {\n    const resourceFolder = resourcesFolder.addFolder(resource);\n    resourceFolder\n      .add(oreConfig[resource as keyof typeof oreConfig], \"scarcity\", 0, 1)\n      .name(\"Scarcity\");\n\n    const scaleFolder = resourceFolder.addFolder(\"Scale\");\n    scaleFolder\n      .add(oreConfig[resource as keyof typeof oreConfig].scale, \"x\", 1, 100)\n      .name(\"X Scale\");\n    scaleFolder\n      .add(oreConfig[resource as keyof typeof oreConfig].scale, \"y\", 1, 100)\n      .name(\"Y Scale\");\n    scaleFolder\n      .add(oreConfig[resource as keyof typeof oreConfig].scale, \"z\", 1, 100)\n      .name(\"Z Scale\");\n  }\n\n  gui.add(world, \"regenerate\").name(\"Generate\");\n}\n\nexport function initMainMenu(onStart: () => void) {\n  const mainMenu = document.getElementById(\"main-menu\");\n  const loadingScreen = document.getElementById(\"loading\");\n  const startGameButton = document.getElementById(\"start-game\");\n  const handleClick = debounce(() => {\n    if (mainMenu) mainMenu.style.display = \"none\";\n    if (loadingScreen) loadingScreen.style.display = \"block\";\n    audioManager.play(\"gui.button.press\");\n    initStats();\n    onStart();\n  })\n  startGameButton?.addEventListener(\"click\", handleClick);\n\n  const githubButton = document.getElementById(\"github\");\n  githubButton?.addEventListener(\"click\", () => {\n    audioManager.play(\"gui.button.press\");\n    window.open(\"https://github.com/yiiiiiiqianyao/minicraft_demo\");\n  });\n}\n\nexport function swapMenuScreenGUI() {\n  const menuScreen = document.getElementById(\"menu\");\n  const debugMenu = document.getElementById(\"debug\");\n  if (menuScreen) {\n    menuScreen.style.display = \"none\";\n    if (debugMenu) {\n      debugMenu.style.display = \"flex\";\n    }\n  }\n}\n\nexport function updatePositionGUI(position: THREE.Vector3) {\n    const posX = document.getElementById(\"player-pos-x\");\n    if (posX) {\n      const inner = `x: ${position.x.toFixed(3)}`;\n      if(posX.innerHTML !== inner) {\n        posX.innerHTML = inner;\n      }\n    }\n\n    const posY = document.getElementById(\"player-pos-y\");\n    if (posY) {\n      const inner = `y: ${position.y.toFixed(3)}`;\n      if(posY.innerHTML !== inner) {\n        posY.innerHTML = inner;\n      }\n    }\n\n    const posZ = document.getElementById(\"player-pos-z\");\n    if (posZ) {\n      const inner = `z: ${position.z.toFixed(3)}`;\n      if(posZ.innerHTML !== inner) {\n        posZ.innerHTML = inner;\n      }\n    }\n}\n\nexport function updateProgressGUI(percentLoaded: number) {\n  const progressBar = document.getElementById(\"loading-progress-bar\");\n  if (progressBar) {\n    progressBar.style.width = `${percentLoaded}%`;\n  }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/gui/index.ts"
    },
    "game/sky/index": {
      "path": "game/sky",
      "id": "game/sky/index",
      "file": "game/sky/index.ts",
      "absPath": "/game/sky",
      "__content": "import * as THREE from \"three\";\nimport { Player } from \"../player/Player\";\nimport { fragmentShader, vertexShader } from \"./shader\";\nimport { dayColor, nightColor, sunsetColor, sunSettings, uniforms } from \"./literal\";\n\nexport class SkyManager {\n  scene!: THREE.Scene;\n  sky!: THREE.Mesh;\n  sun!: THREE.DirectionalLight;\n  sunHelper!: THREE.DirectionalLightHelper;\n  shadowHelper!: THREE.CameraHelper;\n  private lastShadowUpdate = 0;\n  constructor(scene: THREE.Scene) {\n    this.scene = scene;\n    this.initSky(scene);\n    this.initLight(scene);\n  }\n\n  initSky(scene: THREE.Scene) {\n    const skyGeo = new THREE.SphereGeometry(4000, 32, 15);\n    const skyMat = new THREE.ShaderMaterial({\n      vertexShader: vertexShader,\n      fragmentShader: fragmentShader,\n      uniforms: uniforms,\n      side: THREE.BackSide,\n    });\n    this.sky = new THREE.Mesh(skyGeo, skyMat);\n    scene.add(this.sky);\n\n    scene.fog = new THREE.Fog(0x80a0e0, 50, 100);\n    scene.fog.color.copy(uniforms.bottomColor.value);\n  }\n\n  initLight(scene: THREE.Scene) {\n    const sun = new THREE.DirectionalLight();\n    // this.sun.position.set(50, 50, 50);\n    sun.intensity = 1.5;\n    sun.castShadow = true;\n\n    // Set the size of the sun's shadow box\n    sun.shadow.camera.left = -80;\n    sun.shadow.camera.right = 80;\n    sun.shadow.camera.top = 80;\n    sun.shadow.camera.bottom = -80;\n    sun.shadow.camera.near = 0.1;\n    sun.shadow.camera.far = 600;\n    sun.shadow.bias = -0.005;\n    sun.shadow.mapSize = new THREE.Vector2(512, 512);\n\n    scene.add(sun);\n    scene.add(sun.target);\n\n    const sunHelper = new THREE.DirectionalLightHelper(sun);\n    sunHelper.visible = false;\n    scene.add(sunHelper);\n\n    const shadowHelper = new THREE.CameraHelper(sun.shadow.camera);\n    shadowHelper.visible = false;\n    scene.add(shadowHelper);\n\n    const ambient = new THREE.AmbientLight();\n    ambient.intensity = 0.2;\n    scene.add(ambient);\n\n    this.sun = sun;\n    this.sunHelper = sunHelper;\n    this.shadowHelper = shadowHelper;\n    return { sun, sunHelper, shadowHelper };\n  }\n\n  updateSunPosition(angle: number, player: Player) {\n    const sunX = sunSettings.distance * Math.cos(angle); // Calculate the X position of the sun\n    const sunY = sunSettings.distance * Math.sin(angle); // Calculate the Y position of the sun\n    this.sun.position.set(sunX, sunY, player.camera.position.z); // Update the position of the sun\n    this.sun.position.add(player.camera.position);\n\n    this.sun.target.position.copy(player.camera.position);\n    this.sun.target.updateMatrixWorld();\n\n    this.sunHelper.update();\n    this.shadowHelper.update();\n  }\n\n  updateSkyColor(clock: THREE.Clock, player: Player) {\n    const elapsedTime = clock.getElapsedTime();\n    const cycleDuration = sunSettings.cycleLength; // Duration of a day in seconds\n    const cycleTime = elapsedTime % cycleDuration;\n    const { sun, sky } = this;\n    let topColor: THREE.Color;\n    let bottomColor: THREE.Color;\n\n    if (cycleTime < cycleDuration / 2) {\n      // Day time\n      topColor = dayColor\n        .clone()\n        .lerp(nightColor, cycleTime / (cycleDuration / 2));\n      sun.intensity = 1 - cycleTime / (cycleDuration / 2); // Sun intensity decreases as the day progresses\n    } else {\n      // Night time\n      topColor = nightColor\n        .clone()\n        .lerp(\n          dayColor,\n          (cycleTime - cycleDuration / 2) / (cycleDuration / 2)\n        );\n      sun.intensity =\n        (cycleTime - cycleDuration / 2) / (cycleDuration / 2); // Sun intensity increases as the night progresses\n    }\n\n    const dayStart = 0;\n    const sunsetStart = cycleDuration * 0.4; // Start sunset at 40% of the cycle\n    const nightStart = cycleDuration * 0.5; // Start night at 50% of the cycle\n    const sunriseStart = cycleDuration * 0.9; // Start sunrise at 90% of the cycle\n\n    if (cycleTime >= dayStart && cycleTime < sunsetStart) {\n      // Day time\n      bottomColor = dayColor\n        .clone()\n        .lerp(\n          sunsetColor,\n          (cycleTime - dayStart) / (sunsetStart - dayStart)\n        );\n    } else if (cycleTime >= sunsetStart && cycleTime < nightStart) {\n      // Sunset\n      bottomColor = sunsetColor\n        .clone()\n        .lerp(\n          nightColor,\n          (cycleTime - sunsetStart) / (nightStart - sunsetStart)\n        );\n    } else if (cycleTime >= nightStart && cycleTime < sunriseStart) {\n      // Night time\n      bottomColor = nightColor\n        .clone()\n        .lerp(\n          sunsetColor,\n          (cycleTime - nightStart) / (sunriseStart - nightStart)\n        );\n    } else {\n      // Sunrise\n      bottomColor = sunsetColor\n        .clone()\n        .lerp(\n          dayColor,\n          (cycleTime - sunriseStart) / (cycleDuration - sunriseStart)\n        );\n    }\n\n    (sky.material as THREE.ShaderMaterial).uniforms.topColor.value = topColor;\n    (sky.material as THREE.ShaderMaterial).uniforms.bottomColor.value = bottomColor;\n\n    // Desaturate the fog slightly\n    this.scene.fog?.color.copy(topColor).multiplyScalar(0.2);\n\n    if (performance.now() - this.lastShadowUpdate < sunSettings.cycleLength) return;\n\n    const sunAngle =\n      ((2 * Math.PI) / cycleDuration) * (cycleTime + cycleDuration / 6); // Calculate the angle of the sun based on the cycle time with a phase shift of T/4\n    this.updateSunPosition(sunAngle, player);\n\n    this.lastShadowUpdate = performance.now();\n  }\n}",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/sky/index.ts"
    },
    "game/seed/RNG": {
      "path": "game/seed/RNG",
      "id": "game/seed/RNG",
      "file": "game/seed/RNG.ts",
      "absPath": "/game/seed/RNG",
      "__content": "// Implementation from\nexport class RNG {\n  m_w = 123456789;\n  m_z = 987654321;\n  mask = 0xffffffff;\n\n  // Takes any integer\n  constructor(seed: number) {\n    this.m_w = (123456789 + seed) & this.mask;\n    this.m_z = (987654321 - seed) & this.mask;\n  }\n\n  // Returns number between 0 (inclusive) and 1.0 (exclusive),\n  // just like Math.random().\n  random() {\n    this.m_z = (36969 * (this.m_z & 65535) + (this.m_z >> 16)) & this.mask;\n    this.m_w = (18000 * (this.m_w & 65535) + (this.m_w >> 16)) & this.mask;\n    let result = ((this.m_z << 16) + (this.m_w & 65535)) >>> 0;\n    result /= 4294967296;\n    return result;\n  }\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/seed/RNG.ts"
    },
    "game/Game": {
      "path": "game/Game",
      "id": "game/Game",
      "file": "game/Game.ts",
      "absPath": "/game/Game",
      "__content": "import * as THREE from \"three\";\nimport TWEEN from \"@tweenjs/tween.js\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { createUI, initMainMenu, swapMenuScreenGUI, ToolBar } from \"./gui\";\nimport { Player } from \"./player/Player\";\nimport { World } from \"./world/World\";\nimport { SkyManager } from \"./sky\";\nimport { updateRenderInfoGUI, updateStats } from \"./dev\";\nimport audioManager from \"./audio/AudioManager\";\nimport { initOrbitCamera, updateOrbitControls } from \"./dev/orbitCamera\";\nimport { ScreenViewer } from \"./gui/viewer\";\nimport { Physics } from \"./physics\";\nimport { Engine } from \"./engine\";\nimport { sunSettings } from \"./sky/literal\";\nimport { PhysicsParams } from \"./physics/literal\";\nimport { ChunkParams } from \"./world/chunk/literal\";\nimport { PlayerInitPosition } from \"./player/literal\";\nimport { BlockID } from \"./Block\";\n\nexport default class Game {\n  static v = -1;\n  private renderer!: THREE.WebGLRenderer;\n  private scene!: THREE.Scene;\n  private orbitCamera!: THREE.PerspectiveCamera;\n\n  private controls!: OrbitControls;\n  private clock!: THREE.Clock;\n\n  private skyManager!: SkyManager;\n  private world!: World;\n  private player!: Player;\n  private physics!: Physics;\n\n  private previousTime = 0;\n  \n\n  constructor() {\n    this.previousTime = performance.now();\n    this.clock = new THREE.Clock();\n    initMainMenu(() => {\n      this.initScene();\n      // this.initListeners();\n      window.addEventListener(\"resize\", this.onWindowResize.bind(this), false);\n      audioManager.playBGM();\n    });\n  }\n\n  initScene() {\n    Engine.init();\n    this.renderer = Engine.renderer;\n    this.scene = Engine.scene;\n        \n    const { orbitCamera, controls } = initOrbitCamera(this.renderer);\n    this.orbitCamera = orbitCamera;\n    this.controls = controls;\n\n    // Skybox\n    this.skyManager = new SkyManager(this.scene);\n    \n    this.world = new World(0, this.scene);\n    this.scene.add(this.world);\n\n    this.player = new Player(this.scene, this.world);\n    this.physics = new Physics(this.scene, this.player, this.world);\n\n    this.skyManager.updateSunPosition(0, this.player);\n    this.world.onLoad = () => {\n      this.onStart();\n    }\n        // TODO  \n    if(Math.random() < 0) {\n      createUI(\n        this.world,\n        this.player,\n        this.physics,\n        this.scene,\n        this.renderer,\n        sunSettings,\n        this.skyManager.sunHelper,\n        this.skyManager.shadowHelper\n      );\n    }\n    this.draw();\n  }\n\n  private onWindowResize() {\n    const { width, height } = Engine.screenWrap.getBoundingClientRect();\n    ScreenViewer.width = width;\n    ScreenViewer.height = height;\n\n    const aspect = ScreenViewer.width / ScreenViewer.height;\n    if(this.orbitCamera) {\n      this.orbitCamera.aspect = aspect;\n      this.orbitCamera.updateProjectionMatrix();\n    }\n    if (this.player) {\n      this.player.camera.aspect = aspect;\n      this.player.camera.updateProjectionMatrix();\n    }\n    if (this.renderer) {\n      this.renderer.setSize(ScreenViewer.width, ScreenViewer.height);\n    }\n  }\n\n  /**@desc  */\n  private draw() {\n    const currentTime = performance.now();\n    const deltaTime = (currentTime - this.previousTime) / 1000;\n\n    requestAnimationFrame(() => {\n      this.draw();\n    });\n\n    // TODO \n    this.skyManager.updateSkyColor(this.clock, this.player);\n\n    // \n    this.physics.update(deltaTime);\n\n    //  chunk\n    this.world.update(this.player);\n\n    // update triangle count\n    updateRenderInfoGUI(this.renderer);\n    updateStats();\n\n    TWEEN.update();    \n    const renderCamera = this.getRenderCamera();\n    this.renderer.render(this.scene, renderCamera);\n    // \n    updateOrbitControls(this.orbitCamera, this.controls, this.player);\n\n    this.previousTime = currentTime;\n  }\n\n  private getRenderCamera() {\n    // TODO  \n    // player.controls.isLocked === true \n    // player.controls.isLocked === false \n    if(Game.v !== -1) {\n      if(Game.v === 1) {\n        return this.player.camera;\n      } else {\n        return this.orbitCamera;\n      }\n    }\n    const renderMode = this.player.controls.isLocked ? 'firstPerson' : 'thirdPerson';\n    switch(renderMode) {\n      case 'firstPerson':\n        return this.player.camera;\n      case 'thirdPerson':\n        return this.orbitCamera;\n    }\n  }\n\n  /**@desc world chunk  */\n  private onStart() {\n    const startX = PlayerInitPosition.x;\n    const startZ = PlayerInitPosition.z;\n      \n    this.player.updateByPosition();\n          \n    const startingPlayerPosition = new THREE.Vector3().copy(PlayerInitPosition);\n    for (let y = ChunkParams.height; y > 0; y--) {\n      // TODO:  y  chunk \n      if (this.world.getBlock( startX, y,startZ)?.block === BlockID.Grass) {\n        startingPlayerPosition.y = y;\n        break;\n      }\n    }\n    //  10 \n    this.player.position.set(startX,startingPlayerPosition.y + 10,startZ);\n    //  PointerLockControls \n    this.player.controls.lock();\n    this.player.updateByPosition();\n    this.player.updateHand();\n    PhysicsParams.enabled = true;\n    swapMenuScreenGUI();\n  }\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/game/Game.ts"
    },
    "index": {
      "path": "/",
      "id": "index",
      "file": "index.tsx",
      "absPath": "/",
      "__content": "import { useEffect } from \"react\";\nimport Game from \"./game/Game\";\nimport './index.scss';\nimport { ToolBar } from \"./components/toolbar\";\nimport { Loading } from \"./components/loading\";\nimport { Debug } from \"./components/debug\";\nimport { Logo } from \"./components/logo\";\n\nexport default function HomePage() {\n  useEffect(() => {\n   new Game();\n  }, []);\n  return (\n    <div id='canvas_wrap' className=\"_canvas_wrap\">\n      <Debug />\n      <div id=\"ui\">\n        <svg id=\"cursor\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M3 12H21M12 3L12 21\" stroke=\"white\" strokeWidth=\"2\"/>\n        </svg>\n        <ToolBar />\n      </div>\n      <div id=\"menu\">\n        <div id=\"main-menu\">\n          <Logo />\n          <div>\n            <div id=\"buttons\">\n              <div className=\"mc-button full\" tabIndex={0} role=\"button\">\n                <div id=\"start-game\" className=\"title\">Create new world</div>\n              </div>\n              <div className=\"mc-button full\" tabIndex={0} role=\"button\">\n                <div id=\"github\" className=\"title\">View GitHub repo</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Loading />\n      </div>\n    </div>\n  );\n}\n",
      "__isJSFile": true,
      "__absFile": "/Applications/workspace/minicraft_demo/src/pages/index.tsx"
    }
  },
  "apiRoutes": {},
  "hasSrcDir": true,
  "npmClient": "pnpm",
  "umi": {
    "version": "4.6.18",
    "name": "Umi",
    "importSource": "umi",
    "cliName": "umi"
  },
  "bundleStatus": {
    "done": false
  },
  "mfsuBundleStatus": {
    "done": false
  },
  "react": {
    "version": "17.0.2",
    "path": "/Applications/workspace/minicraft_demo/node_modules/react"
  },
  "react-dom": {
    "version": "17.0.2",
    "path": "/Applications/workspace/minicraft_demo/node_modules/react-dom"
  },
  "appJS": null,
  "locale": "en-US",
  "globalCSS": [],
  "globalJS": [],
  "overridesCSS": [],
  "bundler": "webpack",
  "git": {
    "originUrl": "https://github.com/yiiiiiiqianyao/minicraft_demo.git"
  },
  "framework": "react",
  "typescript": {
    "tsVersion": "5.9.3",
    "tslibVersion": "2.8.1"
  },
  "faviconFiles": [],
  "port": 8000,
  "host": "0.0.0.0",
  "ip": "192.168.0.178"
}
